{"ast":null,"code":"import React from\"react\";import{TextField,SelectField,UrlField,useShowController}from\"react-admin\";import{Hero,Show}from\"@semapps/archipelago-layout\";import{ReferenceField}from\"@semapps/semantic-data-provider\";import PersonTitle from\"./PersonTitle\";import{teachingLevel,structureType}from\"../../constants\";import SubList from\"../../layout/SubList\";import ContactField from\"../../contact/ContactField\";import AssociationDisplay from\"./specializedDisplay/AssociationDisplay\";import CollectiviteDisplay from\"./specializedDisplay/CollectiviteDisplay\";import EducationNationalDisplay from\"./specializedDisplay/EducationNationalDisplay\";import LaboratoireDeRechercheDisplay from\"./specializedDisplay/LaboratoireDeRechercheDisplay\";var PersonShow=function PersonShow(props){var _useShowController=useShowController(props),record=_useShowController.record;if(!record){return null;}if(record[\"pair:hasType\"]===\"https://data.classe-dehors.org/types/enseignant\"){// dirty trick to convert teacher profiles to National Education ones.\nrecord[\"pair:hasType\"]=\"https://data.classe-dehors.org/types/education-nationale\";}if(record&&record[\"pair:hasType\"]===\"https://data.classe-dehors.org/types/education-nationale\"){return/*#__PURE__*/React.createElement(Show,Object.assign({title:/*#__PURE__*/React.createElement(PersonTitle,null)},props),/*#__PURE__*/React.createElement(EducationNationalDisplay,null));}if(record&&record[\"pair:hasType\"]===\"https://data.classe-dehors.org/types/association\"){return/*#__PURE__*/React.createElement(Show,Object.assign({title:/*#__PURE__*/React.createElement(PersonTitle,null)},props),/*#__PURE__*/React.createElement(AssociationDisplay,null));}if(record&&record[\"pair:hasType\"]===\"https://data.classe-dehors.org/types/collectivite\"){return/*#__PURE__*/React.createElement(Show,Object.assign({title:/*#__PURE__*/React.createElement(PersonTitle,null)},props),/*#__PURE__*/React.createElement(CollectiviteDisplay,null));}if(record&&record[\"pair:hasType\"]===\"https://data.classe-dehors.org/types/laboratoire-de-recherche\"){return/*#__PURE__*/React.createElement(Show,Object.assign({title:/*#__PURE__*/React.createElement(PersonTitle,null)},props),/*#__PURE__*/React.createElement(LaboratoireDeRechercheDisplay,null));}return/*#__PURE__*/React.createElement(Show,Object.assign({title:/*#__PURE__*/React.createElement(PersonTitle,null)},props),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Hero,null,/*#__PURE__*/React.createElement(TextField,{label:\"Pr\\xE9nom ou pseudo\",source:\"pair:label\"}),/*#__PURE__*/React.createElement(ReferenceField,{reference:\"Type\",source:\"pair:hasType\",label:\"Type de profil\",linkType:false},/*#__PURE__*/React.createElement(TextField,{source:\"pair:label\"})),/*#__PURE__*/React.createElement(TextField,{label:\"Nom\",source:\"pair:hasType\"}),/*#__PURE__*/React.createElement(SelectField,{source:\"cd:teachingLevel\",choices:teachingLevel}),/*#__PURE__*/React.createElement(ContactField,{source:\"pair:e-mail\"}),/*#__PURE__*/React.createElement(UrlField,{source:\"pair:aboutPage\"})),/*#__PURE__*/React.createElement(SubList,{label:\"Structure\"},/*#__PURE__*/React.createElement(SelectField,{source:\"cd:structureType\",choices:structureType}),/*#__PURE__*/React.createElement(TextField,{source:\"cd:structureName\"}),/*#__PURE__*/React.createElement(TextField,{source:\"cd:structureLocality\"})),/*#__PURE__*/React.createElement(SubList,{label:\"Pratique\"},/*#__PURE__*/React.createElement(ReferenceField,{reference:\"Place\",source:\"pair:hasLocation\",linkType:\"show\"},/*#__PURE__*/React.createElement(TextField,{source:\"pair:label\"})),/*#__PURE__*/React.createElement(TextField,{source:\"cd:practiceTime\",fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{source:\"cd:practiceFrequency\",fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{source:\"cd:practiceSubjects\",fullWidth:true})),/*#__PURE__*/React.createElement(SubList,{label:\"Communaut\\xE9\"},/*#__PURE__*/React.createElement(TextField,{source:\"cd:skills\",fullWidth:true}),/*#__PURE__*/React.createElement(UrlField,{source:\"pair:webPage\",fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{source:\"cd:needs\",fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{source:\"cd:comments\",fullWidth:true}))));};export default PersonShow;","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/src/resources/Person/PersonShow.js"],"names":["React","TextField","SelectField","UrlField","useShowController","Hero","Show","ReferenceField","PersonTitle","teachingLevel","structureType","SubList","ContactField","AssociationDisplay","CollectiviteDisplay","EducationNationalDisplay","LaboratoireDeRechercheDisplay","PersonShow","props","record"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  TextField,\n  SelectField,\n  UrlField,\n  useShowController,\n} from \"react-admin\";\nimport { Hero, Show } from \"@semapps/archipelago-layout\";\nimport { ReferenceField } from \"@semapps/semantic-data-provider\";\nimport PersonTitle from \"./PersonTitle\";\nimport { teachingLevel, structureType } from \"../../constants\";\nimport SubList from \"../../layout/SubList\";\nimport ContactField from \"../../contact/ContactField\";\n\nimport AssociationDisplay from \"./specializedDisplay/AssociationDisplay\";\nimport CollectiviteDisplay from \"./specializedDisplay/CollectiviteDisplay\";\nimport EducationNationalDisplay from \"./specializedDisplay/EducationNationalDisplay\";\nimport LaboratoireDeRechercheDisplay from \"./specializedDisplay/LaboratoireDeRechercheDisplay\";\n\nconst PersonShow = (props) => {\n  const { record } = useShowController(props);\n  if (!record) {\n    return null;\n  }\n\n  if (\n    record[\"pair:hasType\"] === \"https://data.classe-dehors.org/types/enseignant\"\n  ) {\n    // dirty trick to convert teacher profiles to National Education ones.\n    record[\"pair:hasType\"] =\n      \"https://data.classe-dehors.org/types/education-nationale\";\n  }\n  if (\n    record &&\n    record[\"pair:hasType\"] ===\n      \"https://data.classe-dehors.org/types/education-nationale\"\n  ) {\n    return (\n      <Show title={<PersonTitle />} {...props}>\n        <EducationNationalDisplay />\n      </Show>\n    );\n  }\n  if (\n    record &&\n    record[\"pair:hasType\"] ===\n      \"https://data.classe-dehors.org/types/association\"\n  ) {\n    return (\n      <Show title={<PersonTitle />} {...props}>\n        <AssociationDisplay />\n      </Show>\n    );\n  }\n  if (\n    record &&\n    record[\"pair:hasType\"] ===\n      \"https://data.classe-dehors.org/types/collectivite\"\n  ) {\n    return (\n      <Show title={<PersonTitle />} {...props}>\n        <CollectiviteDisplay />\n      </Show>\n    );\n  }\n  if (\n    record &&\n    record[\"pair:hasType\"] ===\n      \"https://data.classe-dehors.org/types/laboratoire-de-recherche\"\n  ) {\n    return (\n      <Show title={<PersonTitle />} {...props}>\n        <LaboratoireDeRechercheDisplay />\n      </Show>\n    );\n  }\n  return (\n    <Show title={<PersonTitle />} {...props}>\n      <>\n        <Hero>\n          <TextField label=\"Prénom ou pseudo\" source=\"pair:label\" />\n          <ReferenceField\n            reference=\"Type\"\n            source=\"pair:hasType\"\n            label=\"Type de profil\"\n            linkType={false}\n          >\n            <TextField source=\"pair:label\" />\n          </ReferenceField>\n          <TextField label=\"Nom\" source=\"pair:hasType\" />\n          <SelectField source=\"cd:teachingLevel\" choices={teachingLevel} />\n          {/* <TextField source=\"cd:subjects\" /> */}\n          <ContactField source=\"pair:e-mail\" />\n          <UrlField source=\"pair:aboutPage\" />\n        </Hero>\n        <SubList label=\"Structure\">\n          <SelectField source=\"cd:structureType\" choices={structureType} />\n          <TextField source=\"cd:structureName\" />\n          <TextField source=\"cd:structureLocality\" />\n        </SubList>\n        <SubList label=\"Pratique\">\n          <ReferenceField\n            reference=\"Place\"\n            source=\"pair:hasLocation\"\n            linkType=\"show\"\n          >\n            <TextField source=\"pair:label\" />\n          </ReferenceField>\n          <TextField source=\"cd:practiceTime\" fullWidth />\n          <TextField source=\"cd:practiceFrequency\" fullWidth />\n          <TextField source=\"cd:practiceSubjects\" fullWidth />\n        </SubList>\n        <SubList label=\"Communauté\">\n          <TextField source=\"cd:skills\" fullWidth />\n          <UrlField source=\"pair:webPage\" fullWidth />\n          <TextField source=\"cd:needs\" fullWidth />\n          <TextField source=\"cd:comments\" fullWidth />\n        </SubList>\n        {/*<MainList>*/}\n        {/*  <ReferenceArrayField reference=\"Document\" source=\"pair:offers\">*/}\n        {/*    <Datagrid rowClick=\"show\">*/}\n        {/*      <TextField source=\"pair:label\" />*/}\n        {/*      <TextField source=\"pair:webPage\" />*/}\n        {/*      <ShowButton />*/}\n        {/*      <EditButton />*/}\n        {/*    </Datagrid>*/}\n        {/*  </ReferenceArrayField>*/}\n        {/*</MainList>*/}\n      </>\n    </Show>\n  );\n};\n\nexport default PersonShow;\n"]},"metadata":{},"sourceType":"module"}