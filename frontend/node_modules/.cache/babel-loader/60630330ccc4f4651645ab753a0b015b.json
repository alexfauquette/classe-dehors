{"ast":null,"code":"var _jsxFileName = \"/home/alexandre/dev/classe-dehors/frontend/src/resources/Event/EventList.js\";\nimport React from \"react\";\nimport { DateField } from \"react-admin\";\nimport { Avatar } from \"@material-ui/core\";\nimport { List, SimpleList, ListActions } from \"@semapps/archipelago-layout\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport MarkdownIntroduction from \"../../markdown/MarkdownIntroduction\";\nimport { isBefore } from \"date-fns\";\nimport { eventType } from \"constants.js\";\n\nconst postRowStyle = (record, index) => {\n  const pastEvent = isBefore(new Date(record[\"pair:endDate\"]), new Date());\n  return {\n    backgroundColor: pastEvent ? \"lightgray\" : \"white\"\n  };\n};\n\nconst EventList = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MarkdownIntroduction, {\n  pageId: \"agenda-introduction\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(List, Object.assign({}, props, {\n  title: \"Calendrier\",\n  sort: {\n    field: \"pair:startDate\",\n    order: \"ASC\"\n  },\n  actions: /*#__PURE__*/React.createElement(ListActions, {\n    exporter: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 16\n    }\n  }),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(SimpleList, {\n  primaryText: record => record[\"pair:label\"],\n  secondaryText: record => {\n    const pastEvent = isBefore(new Date(record[\"pair:endDate\"]), new Date());\n\n    if (pastEvent) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, \"Pass\\xE9 (\\xE0 eu lieu le \\xA0\", /*#__PURE__*/React.createElement(DateField, {\n        record: record,\n        source: \"pair:startDate\",\n        showTime: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }), \")\");\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, \"Du\\xA0\", /*#__PURE__*/React.createElement(DateField, {\n      record: record,\n      source: \"pair:startDate\",\n      showTime: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }\n    }), \"\\xA0au\\xA0\", /*#__PURE__*/React.createElement(DateField, {\n      record: record,\n      source: \"pair:endDate\",\n      showTime: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }\n    }));\n  },\n  tertiaryText: record => {\n    var _eventType$find;\n\n    return record[\"pair:hasType\"] ? (_eventType$find = eventType.find(({\n      id\n    }) => id === record[\"pair:hasType\"])) === null || _eventType$find === void 0 ? void 0 : _eventType$find.name : \"\";\n  },\n  leftAvatar: () => /*#__PURE__*/React.createElement(Avatar, {\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(EventIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })),\n  linkType: \"show\",\n  rowStyle: postRowStyle,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 7\n  }\n})));\n\nexport default EventList;","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/src/resources/Event/EventList.js"],"names":["React","DateField","Avatar","List","SimpleList","ListActions","EventIcon","MarkdownIntroduction","isBefore","eventType","postRowStyle","record","index","pastEvent","Date","backgroundColor","EventList","props","field","order","find","id","name"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { DateField } from \"react-admin\";\nimport { Avatar } from \"@material-ui/core\";\nimport { List, SimpleList, ListActions } from \"@semapps/archipelago-layout\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport MarkdownIntroduction from \"../../markdown/MarkdownIntroduction\";\nimport { isBefore } from \"date-fns\";\nimport { eventType } from \"constants.js\";\n\nconst postRowStyle = (record, index) => {\n  const pastEvent = isBefore(new Date(record[\"pair:endDate\"]), new Date());\n  return {\n    backgroundColor: pastEvent ? \"lightgray\" : \"white\",\n  };\n};\n\nconst EventList = (props) => (\n  <>\n    <MarkdownIntroduction pageId=\"agenda-introduction\" />\n    <List\n      {...props}\n      title=\"Calendrier\"\n      sort={{ field: \"pair:startDate\", order: \"ASC\" }}\n      actions={<ListActions exporter={false} />}\n    >\n      <SimpleList\n        primaryText={(record) => record[\"pair:label\"]}\n        secondaryText={(record) => {\n          const pastEvent = isBefore(\n            new Date(record[\"pair:endDate\"]),\n            new Date()\n          );\n          if (pastEvent) {\n            return (\n              <>\n                Passé (à eu lieu le &nbsp;\n                <DateField record={record} source=\"pair:startDate\" showTime />)\n              </>\n            );\n          }\n          return (\n            <>\n              Du&nbsp;\n              <DateField record={record} source=\"pair:startDate\" showTime />\n              &nbsp;au&nbsp;\n              <DateField record={record} source=\"pair:endDate\" showTime />\n            </>\n          );\n        }}\n        tertiaryText={(record) =>\n          record[\"pair:hasType\"]\n            ? eventType.find(({ id }) => id === record[\"pair:hasType\"])?.name\n            : \"\"\n        }\n        leftAvatar={() => (\n          <Avatar width=\"100%\">\n            <EventIcon />\n          </Avatar>\n        )}\n        linkType=\"show\"\n        rowStyle={postRowStyle}\n      />\n    </List>\n  </>\n);\n\nexport default EventList;\n"]},"metadata":{},"sourceType":"module"}