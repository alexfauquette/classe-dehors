{"ast":null,"code":"var _jsxFileName = \"/home/alexandre/dev/classe-dehors/frontend/src/resources/Person/PersonForm.js\";\nimport React from \"react\";\nimport EducationNationalForm from \"./specializedForm/EducationNationalForm\";\nimport AssociationForm from \"./specializedForm/AssociationForm\";\nimport CollectiviteForm from \"./specializedForm/CollectiviteForm\";\nimport LaboratoireDeRechercheForm from \"./specializedForm/LaboratoireDeRechercheForm\";\nimport { profileType } from \"constants.js\";\nimport { SimpleForm, Toolbar, RadioButtonGroupInput, FormDataConsumer, SelectInput } from \"react-admin\";\nimport { ReferenceInput } from \"@semapps/semantic-data-provider\";\nconst acceptedHasTypeIds = profileType.map(x => x.id);\n\nconst FilteredInput = ({\n  choices,\n  ...props\n}) => {\n  return (\n    /*#__PURE__*/\n    // <SelectInput\n    React.createElement(RadioButtonGroupInput, Object.assign({}, props, {\n      choices: choices.filter(x => acceptedHasTypeIds.includes(x.id)),\n      optionText: \"pair:label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 5\n      }\n    }))\n  );\n};\n\nexport const PersonForm = ({\n  mode,\n  ...rest\n}) => {\n  return /*#__PURE__*/React.createElement(SimpleForm, Object.assign({}, rest, {\n    redirect: \"show\",\n    toolbar: /*#__PURE__*/React.createElement(Toolbar, {\n      alwaysEnableSaveButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 16\n      }\n    }) // Always enable save as there are problems with ReferenceQuickCreateInput\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(ReferenceInput, {\n    reference: \"Type\",\n    source: \"pair:hasType\",\n    filter: {\n      a: \"pair:AgentType\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FilteredInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(FormDataConsumer, {\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"id: \\\"\\\", id: \\\"\\\", id: \\\"\\\", id: \\\"\\\",\", ({\n    formData,\n    ...rest\n  }) => {\n    console.log(formData[\"pair:hasType\"]);\n\n    if (formData[\"pair:hasType\"] === \"https://data.classe-dehors.org/types/education-nationale\") {\n      return /*#__PURE__*/React.createElement(EducationNationalForm, Object.assign({}, rest, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 20\n        }\n      }));\n    }\n\n    if (formData[\"pair:hasType\"] === \"https://data.classe-dehors.org/types/association\") {\n      return /*#__PURE__*/React.createElement(AssociationForm, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (formData[\"pair:hasType\"] === \"https://data.classe-dehors.org/types/collectivite\") {\n      return /*#__PURE__*/React.createElement(CollectiviteForm, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (formData[\"pair:hasType\"] === \"https://data.classe-dehors.org/types/laboratoire-de-recherche\") {\n      return /*#__PURE__*/React.createElement(LaboratoireDeRechercheForm, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return null;\n  }));\n};\nexport default PersonForm;","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/src/resources/Person/PersonForm.js"],"names":["React","EducationNationalForm","AssociationForm","CollectiviteForm","LaboratoireDeRechercheForm","profileType","SimpleForm","Toolbar","RadioButtonGroupInput","FormDataConsumer","SelectInput","ReferenceInput","acceptedHasTypeIds","map","x","id","FilteredInput","choices","props","filter","includes","PersonForm","mode","rest","a","formData","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,qBAAP,MAAkC,yCAAlC;AACA,OAAOC,eAAP,MAA4B,mCAA5B;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,0BAAP,MAAuC,8CAAvC;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SACEC,UADF,EAEEC,OAFF,EAGEC,qBAHF,EAIEC,gBAJF,EAKEC,WALF,QAMO,aANP;AAOA,SAASC,cAAT,QAA+B,iCAA/B;AAEA,MAAMC,kBAAkB,GAAGP,WAAW,CAACQ,GAAZ,CAAiBC,CAAD,IAAOA,CAAC,CAACC,EAAzB,CAA3B;;AACA,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAW,KAAGC;AAAd,CAAD,KAA2B;AAC/C;AAAA;AACE;AACA,wBAAC,qBAAD,oBACMA,KADN;AAEE,MAAA,OAAO,EAAED,OAAO,CAACE,MAAR,CAAgBL,CAAD,IAAOF,kBAAkB,CAACQ,QAAnB,CAA4BN,CAAC,CAACC,EAA9B,CAAtB,CAFX;AAGE,MAAA,UAAU,EAAC,YAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAQD,CATD;;AAWA,OAAO,MAAMM,UAAU,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQ,KAAGC;AAAX,CAAD,KAAuB;AAC/C,sBACE,oBAAC,UAAD,oBACMA,IADN;AAEE,IAAA,QAAQ,EAAC,MAFX;AAGE,IAAA,OAAO,eAAE,oBAAC,OAAD;AAAS,MAAA,sBAAsB,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHX,CAG+C;AAH/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKE,oBAAC,cAAD;AACE,IAAA,SAAS,EAAC,MADZ;AAEE,IAAA,MAAM,EAAC,cAFT;AAGE,IAAA,MAAM,EAAE;AACNC,MAAAA,CAAC,EAAE;AADG,KAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CALF,eAcE,oBAAC,gBAAD;AAAkB,IAAA,SAAS,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAEG,CAAC;AAAEC,IAAAA,QAAF;AAAY,OAAGF;AAAf,GAAD,KAA2B;AAC1BG,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAAC,cAAD,CAApB;;AACA,QACEA,QAAQ,CAAC,cAAD,CAAR,KACA,0DAFF,EAGE;AACA,0BAAO,oBAAC,qBAAD,oBAA2BF,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;AACD,QACEE,QAAQ,CAAC,cAAD,CAAR,KACA,kDAFF,EAGE;AACA,0BAAO,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,QACEA,QAAQ,CAAC,cAAD,CAAR,KACA,mDAFF,EAGE;AACA,0BAAO,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,QACEA,QAAQ,CAAC,cAAD,CAAR,KACA,+DAFF,EAGE;AACA,0BAAO,oBAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,WAAO,IAAP;AACD,GA7BH,CAdF,CADF;AAgDD,CAjDM;AAmDP,eAAeJ,UAAf","sourcesContent":["import React from \"react\";\nimport EducationNationalForm from \"./specializedForm/EducationNationalForm\";\nimport AssociationForm from \"./specializedForm/AssociationForm\";\nimport CollectiviteForm from \"./specializedForm/CollectiviteForm\";\nimport LaboratoireDeRechercheForm from \"./specializedForm/LaboratoireDeRechercheForm\";\nimport { profileType } from \"constants.js\";\nimport {\n  SimpleForm,\n  Toolbar,\n  RadioButtonGroupInput,\n  FormDataConsumer,\n  SelectInput,\n} from \"react-admin\";\nimport { ReferenceInput } from \"@semapps/semantic-data-provider\";\n\nconst acceptedHasTypeIds = profileType.map((x) => x.id);\nconst FilteredInput = ({ choices, ...props }) => {\n  return (\n    // <SelectInput\n    <RadioButtonGroupInput\n      {...props}\n      choices={choices.filter((x) => acceptedHasTypeIds.includes(x.id))}\n      optionText=\"pair:label\"\n    />\n  );\n};\n\nexport const PersonForm = ({ mode, ...rest }) => {\n  return (\n    <SimpleForm\n      {...rest}\n      redirect=\"show\"\n      toolbar={<Toolbar alwaysEnableSaveButton />} // Always enable save as there are problems with ReferenceQuickCreateInput\n    >\n      <ReferenceInput\n        reference=\"Type\"\n        source=\"pair:hasType\"\n        filter={{\n          a: \"pair:AgentType\",\n        }}\n      >\n        <FilteredInput />\n      </ReferenceInput>\n      <FormDataConsumer fullWidth>\n        id: \"\", id: \"\", id: \"\", id: \"\",\n        {({ formData, ...rest }) => {\n          console.log(formData[\"pair:hasType\"]);\n          if (\n            formData[\"pair:hasType\"] ===\n            \"https://data.classe-dehors.org/types/education-nationale\"\n          ) {\n            return <EducationNationalForm {...rest} />;\n          }\n          if (\n            formData[\"pair:hasType\"] ===\n            \"https://data.classe-dehors.org/types/association\"\n          ) {\n            return <AssociationForm />;\n          }\n          if (\n            formData[\"pair:hasType\"] ===\n            \"https://data.classe-dehors.org/types/collectivite\"\n          ) {\n            return <CollectiviteForm />;\n          }\n          if (\n            formData[\"pair:hasType\"] ===\n            \"https://data.classe-dehors.org/types/laboratoire-de-recherche\"\n          ) {\n            return <LaboratoireDeRechercheForm />;\n          }\n          return null;\n        }}\n      </FormDataConsumer>\n    </SimpleForm>\n  );\n};\n\nexport default PersonForm;\n"]},"metadata":{},"sourceType":"module"}