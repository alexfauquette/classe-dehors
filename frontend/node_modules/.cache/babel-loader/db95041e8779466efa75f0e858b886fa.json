{"ast":null,"code":"var _jsxFileName = \"/home/alexandre/dev/classe-dehors/frontend/src/resources/Person/PersonForm.js\";\nimport React from \"react\";\nimport { SimpleForm, TextInput, SelectInput, Toolbar, required } from \"react-admin\";\nimport MarkdownInput from \"ra-input-markdown\";\nimport { LargeLabel } from \"@semapps/archipelago-layout\";\nimport { ReferenceInput } from \"@semapps/semantic-data-provider\";\nimport { teachingLevel, structureType } from \"../../constants\";\nimport ReferenceQuickCreateInput from \"../../pair/ReferenceQuickCreateInput\";\nimport PairLocationInput from \"../../pair/PairLocationInput\";\n\nconst validatePlaceCreation = values => {\n  const errors = {};\n\n  if (!values[\"pair:hasPostalAddress\"]) {\n    errors[\"pair:hasPostalAddress\"] = \"required\";\n  }\n\n  if (!values[\"pair:label\"]) {\n    errors[\"pair:label\"] = \"required\";\n  }\n\n  if (!values[\"pair:description\"]) {\n    errors[\"pair:description\"] = \"required\";\n  }\n\n  return errors;\n};\n\nexport const PersonForm = ({\n  mode,\n  ...rest\n}) => /*#__PURE__*/React.createElement(SimpleForm, Object.assign({}, rest, {\n  redirect: \"show\",\n  toolbar: /*#__PURE__*/React.createElement(Toolbar, {\n    alwaysEnableSaveButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 14\n    }\n  }) // Always enable save as there are problems with ReferenceQuickCreateInput\n  ,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 3\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"pair:label\",\n  validate: required(),\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(ReferenceInput, {\n  reference: \"Type\",\n  source: \"pair:hasType\",\n  filter: {\n    a: \"pair:AgentType\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(SelectInput, {\n  optionText: \"pair:label\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 7\n  }\n})), /*#__PURE__*/React.createElement(SelectInput, {\n  source: \"cd:teachingLevel\",\n  choices: teachingLevel,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(LargeLabel, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }\n}, \"Structure\"), /*#__PURE__*/React.createElement(SelectInput, {\n  source: \"cd:structureType\",\n  choices: structureType,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"cd:structureName\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"cd:structureLocality\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(LargeLabel, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }\n}, \"Pratique\"), /*#__PURE__*/React.createElement(ReferenceQuickCreateInput, {\n  reference: \"Place\",\n  source: \"pair:hasLocation\",\n  selectOptionText: \"pair:label\",\n  perPage: 1000,\n  validate: validatePlaceCreation,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(PairLocationInput, {\n  label: \"Adresse\",\n  source: \"pair:hasPostalAddress\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  label: \"Nom\",\n  source: \"pair:label\",\n  validate: required(),\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(MarkdownInput, {\n  label: \"Description\",\n  source: \"pair:description\",\n  multiline: true,\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 7\n  }\n})), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"cd:practiceTime\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"cd:practiceFrequency\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"cd:practiceSubjects\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(LargeLabel, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }\n}, \"Communaut\\xE9\"), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"cd:skills\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"pair:webPage\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"cd:needs\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"cd:comments\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(LargeLabel, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }\n}, \"Contact\"), mode === \"create\" && /*#__PURE__*/React.createElement(TextInput, {\n  source: \"pair:e-mail\",\n  helperText: \"Votre adresse mail n'appara\\xEEtra pas publiquement. On pourra vous \\xE9crire via un formulaire de contact.\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(TextInput, {\n  source: \"pair:aboutPage\",\n  fullWidth: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }\n}));\nexport default PersonForm;","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/src/resources/Person/PersonForm.js"],"names":["React","SimpleForm","TextInput","SelectInput","Toolbar","required","MarkdownInput","LargeLabel","ReferenceInput","teachingLevel","structureType","ReferenceQuickCreateInput","PairLocationInput","validatePlaceCreation","values","errors","PersonForm","mode","rest","a"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  SimpleForm,\n  TextInput,\n  SelectInput,\n  Toolbar,\n  required,\n} from \"react-admin\";\nimport MarkdownInput from \"ra-input-markdown\";\nimport { LargeLabel } from \"@semapps/archipelago-layout\";\nimport { ReferenceInput } from \"@semapps/semantic-data-provider\";\nimport { teachingLevel, structureType } from \"../../constants\";\nimport ReferenceQuickCreateInput from \"../../pair/ReferenceQuickCreateInput\";\nimport PairLocationInput from \"../../pair/PairLocationInput\";\n\nconst validatePlaceCreation = (values) => {\n  const errors = {};\n  if (!values[\"pair:hasPostalAddress\"]) {\n    errors[\"pair:hasPostalAddress\"] = \"required\";\n  }\n  if (!values[\"pair:label\"]) {\n    errors[\"pair:label\"] = \"required\";\n  }\n  if (!values[\"pair:description\"]) {\n    errors[\"pair:description\"] = \"required\";\n  }\n  return errors;\n};\n\nexport const PersonForm = ({ mode, ...rest }) => (\n  <SimpleForm\n    {...rest}\n    redirect=\"show\"\n    toolbar={<Toolbar alwaysEnableSaveButton />} // Always enable save as there are problems with ReferenceQuickCreateInput\n  >\n    <TextInput source=\"pair:label\" validate={required()} fullWidth />\n    <ReferenceInput\n      reference=\"Type\"\n      source=\"pair:hasType\"\n      filter={{ a: \"pair:AgentType\" }}\n    >\n      <SelectInput optionText=\"pair:label\" />\n    </ReferenceInput>\n    <SelectInput source=\"cd:teachingLevel\" choices={teachingLevel} />\n    {/* <TextInput source=\"cd:subjects\" fullWidth /> */}\n    <LargeLabel>Structure</LargeLabel>\n    <SelectInput source=\"cd:structureType\" choices={structureType} />\n    <TextInput source=\"cd:structureName\" fullWidth />\n    <TextInput source=\"cd:structureLocality\" fullWidth />\n    <LargeLabel>Pratique</LargeLabel>\n    <ReferenceQuickCreateInput\n      reference=\"Place\"\n      source=\"pair:hasLocation\"\n      selectOptionText=\"pair:label\"\n      perPage={1000}\n      validate={validatePlaceCreation}\n    >\n      <PairLocationInput\n        label=\"Adresse\"\n        source=\"pair:hasPostalAddress\"\n        fullWidth\n      />\n      <TextInput\n        label=\"Nom\"\n        source=\"pair:label\"\n        validate={required()}\n        fullWidth\n      />\n      <MarkdownInput\n        label=\"Description\"\n        source=\"pair:description\"\n        multiline\n        fullWidth\n      />\n    </ReferenceQuickCreateInput>\n    <TextInput source=\"cd:practiceTime\" fullWidth />\n    <TextInput source=\"cd:practiceFrequency\" fullWidth />\n    <TextInput source=\"cd:practiceSubjects\" fullWidth />\n    <LargeLabel>Communauté</LargeLabel>\n    <TextInput source=\"cd:skills\" fullWidth />\n    <TextInput source=\"pair:webPage\" fullWidth />\n    <TextInput source=\"cd:needs\" fullWidth />\n    <TextInput source=\"cd:comments\" fullWidth />\n    <LargeLabel>Contact</LargeLabel>\n    {mode === \"create\" && (\n      <TextInput\n        source=\"pair:e-mail\"\n        helperText=\"Votre adresse mail n'apparaîtra pas publiquement. On pourra vous écrire via un formulaire de contact.\"\n        fullWidth\n      />\n    )}\n    <TextInput source=\"pair:aboutPage\" fullWidth />\n  </SimpleForm>\n);\n\nexport default PersonForm;\n"]},"metadata":{},"sourceType":"module"}