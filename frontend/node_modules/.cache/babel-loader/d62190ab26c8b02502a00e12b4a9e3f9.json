{"ast":null,"code":"import _objectSpread from\"/home/alexandre/dev/classe-dehors/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import{MapList}from\"@semapps/geo-components\";import MarkdownIntroduction from\"../../markdown/MarkdownIntroduction\";import{List,ShowButton,EditButton,useResourceDefinition,ReferenceArrayField,SimpleList}from\"react-admin\";import PersonIcon from\"@material-ui/icons/Person\";import{Avatar,Typography}from\"@material-ui/core\";var PopupContent=function PopupContent(_ref){var record=_ref.record,basePath=_ref.basePath;var resourceDefinition=useResourceDefinition({});return/*#__PURE__*/React.createElement(React.Fragment,null,record.label&&/*#__PURE__*/React.createElement(Typography,{variant:\"h5\"},record.label),record.description&&/*#__PURE__*/React.createElement(Typography,null,record.description.length>150?record.description.substring(0,150)+\"...\":record.description),record[\"pair:locationOf\"]&&/*#__PURE__*/React.createElement(ReferenceArrayField,{reference:\"Person\",source:\"pair:locationOf\",record:_objectSpread(_objectSpread({},record),{},{\"pair:locationOf\":typeof record[\"pair:locationOf\"]===\"string\"?[record[\"pair:locationOf\"]]:record[\"pair:locationOf\"]})},/*#__PURE__*/React.createElement(SimpleList,{primaryText:function primaryText(record){return record===null||record===void 0?void 0:record[\"pair:label\"];},leftAvatar:function leftAvatar(){return/*#__PURE__*/React.createElement(Avatar,{width:\"100%\"},/*#__PURE__*/React.createElement(PersonIcon,null));},linkType:\"show\"})),resourceDefinition.hasShow&&/*#__PURE__*/React.createElement(ShowButton,{basePath:basePath,record:record}),resourceDefinition.hasEdit&&/*#__PURE__*/React.createElement(EditButton,{basePath:basePath,record:record}));};var PlaceList=function PlaceList(props){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MarkdownIntroduction,{pageId:\"place-introduction\"}),/*#__PURE__*/React.createElement(List,Object.assign({},props,{perPage:1000,pagination:false,label:\"Carte\",exporter:false,actions:false}),/*#__PURE__*/React.createElement(MapList,{latitude:function latitude(record){var _record$pairHasPosta;return record===null||record===void 0?void 0:(_record$pairHasPosta=record[\"pair:hasPostalAddress\"])===null||_record$pairHasPosta===void 0?void 0:_record$pairHasPosta[\"pair:latitude\"];},longitude:function longitude(record){var _record$pairHasPosta2;return record===null||record===void 0?void 0:(_record$pairHasPosta2=record[\"pair:hasPostalAddress\"])===null||_record$pairHasPosta2===void 0?void 0:_record$pairHasPosta2[\"pair:longitude\"];},label:function label(record){return record===null||record===void 0?void 0:record[\"pair:label\"];},description:function description(record){var _record$pairHasPosta3;return record===null||record===void 0?void 0:(_record$pairHasPosta3=record[\"pair:hasPostalAddress\"])===null||_record$pairHasPosta3===void 0?void 0:_record$pairHasPosta3[\"pair:label\"];},scrollWheelZoom:true,popupContent:PopupContent})));};export default PlaceList;","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/src/resources/Place/PlaceList.js"],"names":["React","MapList","MarkdownIntroduction","List","ShowButton","EditButton","useResourceDefinition","ReferenceArrayField","SimpleList","PersonIcon","Avatar","Typography","PopupContent","record","basePath","resourceDefinition","label","description","length","substring","hasShow","hasEdit","PlaceList","props"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { MapList } from \"@semapps/geo-components\";\n\nimport MarkdownIntroduction from \"../../markdown/MarkdownIntroduction\";\n\nimport {\n  List,\n  ShowButton,\n  EditButton,\n  useResourceDefinition,\n  ReferenceArrayField,\n  SimpleList,\n} from \"react-admin\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport { Avatar, Typography } from \"@material-ui/core\";\n\nconst PopupContent = ({ record, basePath }) => {\n  const resourceDefinition = useResourceDefinition({});\n  return (\n    <>\n      {record.label && <Typography variant=\"h5\">{record.label}</Typography>}\n      {record.description && (\n        <Typography>\n          {record.description.length > 150\n            ? record.description.substring(0, 150) + \"...\"\n            : record.description}\n        </Typography>\n      )}\n      {record[\"pair:locationOf\"] && (\n        <ReferenceArrayField\n          reference=\"Person\"\n          source=\"pair:locationOf\"\n          record={{\n            ...record,\n            \"pair:locationOf\":\n              typeof record[\"pair:locationOf\"] === \"string\"\n                ? [record[\"pair:locationOf\"]]\n                : record[\"pair:locationOf\"],\n          }}\n        >\n          <SimpleList\n            primaryText={(record) => record?.[\"pair:label\"]}\n            leftAvatar={() => (\n              <Avatar width=\"100%\">\n                <PersonIcon />\n              </Avatar>\n            )}\n            linkType=\"show\"\n          />\n        </ReferenceArrayField>\n      )}\n      {resourceDefinition.hasShow && (\n        <ShowButton basePath={basePath} record={record} />\n      )}\n      {resourceDefinition.hasEdit && (\n        <EditButton basePath={basePath} record={record} />\n      )}\n    </>\n  );\n};\n\nconst PlaceList = (props) => (\n  <>\n    <MarkdownIntroduction pageId=\"place-introduction\" />\n\n    <List\n      {...props}\n      perPage={1000}\n      pagination={false}\n      label=\"Carte\"\n      exporter={false}\n      actions={false}\n    >\n      <MapList\n        latitude={(record) =>\n          record?.[\"pair:hasPostalAddress\"]?.[\"pair:latitude\"]\n        }\n        longitude={(record) =>\n          record?.[\"pair:hasPostalAddress\"]?.[\"pair:longitude\"]\n        }\n        label={(record) => record?.[\"pair:label\"]}\n        description={(record) =>\n          record?.[\"pair:hasPostalAddress\"]?.[\"pair:label\"]\n        }\n        scrollWheelZoom\n        popupContent={PopupContent}\n      />\n    </List>\n  </>\n);\n\nexport default PlaceList;\n"]},"metadata":{},"sourceType":"module"}