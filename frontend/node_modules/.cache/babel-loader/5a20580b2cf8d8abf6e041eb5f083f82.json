{"ast":null,"code":"import _objectWithoutProperties from\"/home/alexandre/dev/classe-dehors/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from\"react\";import{SimpleForm,TextInput,SelectInput,CheckboxGroupInput,Toolbar,required}from\"react-admin\";import{LargeLabel}from\"@semapps/archipelago-layout\";import{ReferenceInput}from\"@semapps/semantic-data-provider\";import{teachingLevel,structureType}from\"../../constants\";import ReferenceQuickCreateInput from\"../../pair/ReferenceQuickCreateInput\";import{validatePlaceForm,PlaceFields}from\"../Place/PlaceForm\";export var PersonForm=function PersonForm(_ref){var mode=_ref.mode,rest=_objectWithoutProperties(_ref,[\"mode\"]);return/*#__PURE__*/React.createElement(SimpleForm,Object.assign({},rest,{redirect:\"show\",toolbar:/*#__PURE__*/React.createElement(Toolbar,{alwaysEnableSaveButton:true})// Always enable save as there are problems with ReferenceQuickCreateInput\n}),/*#__PURE__*/React.createElement(TextInput,{source:\"pair:label\",validate:required(),fullWidth:true}),/*#__PURE__*/React.createElement(ReferenceInput,{reference:\"Type\",source:\"pair:hasType\",filter:{a:\"pair:AgentType\"}},/*#__PURE__*/React.createElement(SelectInput,{optionText:\"pair:label\"})),/*#__PURE__*/React.createElement(CheckboxGroupInput,{source:\"cd:teachingLevel\",choices:teachingLevel,format:function format(data){return data?typeof data===\"string\"?[data]:data:[];}// deal with the possibility for teaching level to be a string or a list\n}),/*#__PURE__*/React.createElement(LargeLabel,null,\"Structure\"),/*#__PURE__*/React.createElement(SelectInput,{source:\"cd:structureType\",choices:structureType}),/*#__PURE__*/React.createElement(TextInput,{source:\"cd:structureName\",fullWidth:true}),/*#__PURE__*/React.createElement(TextInput,{source:\"cd:structureLocality\",fullWidth:true}),/*#__PURE__*/React.createElement(LargeLabel,null,\"Pratique\"),/*#__PURE__*/React.createElement(ReferenceQuickCreateInput,{reference:\"Place\",source:\"pair:hasLocation\",selectOptionText:\"pair:label\",perPage:1000,validate:validatePlaceForm},/*#__PURE__*/React.createElement(PlaceFields,null)),/*#__PURE__*/React.createElement(TextInput,{source:\"cd:practiceTime\",fullWidth:true}),/*#__PURE__*/React.createElement(TextInput,{source:\"cd:practiceFrequency\",fullWidth:true}),/*#__PURE__*/React.createElement(TextInput,{source:\"cd:practiceSubjects\",fullWidth:true}),/*#__PURE__*/React.createElement(LargeLabel,null,\"Communaut\\xE9\"),/*#__PURE__*/React.createElement(TextInput,{source:\"cd:skills\",fullWidth:true}),/*#__PURE__*/React.createElement(TextInput,{source:\"pair:webPage\",fullWidth:true}),/*#__PURE__*/React.createElement(TextInput,{source:\"cd:needs\",fullWidth:true}),/*#__PURE__*/React.createElement(TextInput,{source:\"cd:comments\",fullWidth:true}),/*#__PURE__*/React.createElement(LargeLabel,null,\"Contact\"),mode===\"create\"&&/*#__PURE__*/React.createElement(TextInput,{source:\"pair:e-mail\",helperText:\"Votre adresse mail n'appara\\xEEtra pas publiquement. On pourra vous \\xE9crire via un formulaire de contact.\",fullWidth:true}),/*#__PURE__*/React.createElement(TextInput,{source:\"pair:aboutPage\",fullWidth:true}));};export default PersonForm;","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/src/resources/Person/PersonForm.js"],"names":["React","SimpleForm","TextInput","SelectInput","CheckboxGroupInput","Toolbar","required","LargeLabel","ReferenceInput","teachingLevel","structureType","ReferenceQuickCreateInput","validatePlaceForm","PlaceFields","PersonForm","mode","rest","a","data"],"mappings":"qLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,UADF,CAEEC,SAFF,CAGEC,WAHF,CAIEC,kBAJF,CAKEC,OALF,CAMEC,QANF,KAOO,aAPP,CAQA,OAASC,UAAT,KAA2B,6BAA3B,CACA,OAASC,cAAT,KAA+B,iCAA/B,CACA,OAASC,aAAT,CAAwBC,aAAxB,KAA6C,iBAA7C,CACA,MAAOC,CAAAA,yBAAP,KAAsC,sCAAtC,CACA,OAASC,iBAAT,CAA4BC,WAA5B,KAA+C,oBAA/C,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,UAAGC,CAAAA,IAAH,MAAGA,IAAH,CAAYC,IAAZ,4DACxB,oBAAC,UAAD,kBACMA,IADN,EAEE,QAAQ,CAAC,MAFX,CAGE,OAAO,cAAE,oBAAC,OAAD,EAAS,sBAAsB,KAA/B,EAAoC;AAH/C,gBAKE,oBAAC,SAAD,EAAW,MAAM,CAAC,YAAlB,CAA+B,QAAQ,CAAEV,QAAQ,EAAjD,CAAqD,SAAS,KAA9D,EALF,cAME,oBAAC,cAAD,EACE,SAAS,CAAC,MADZ,CAEE,MAAM,CAAC,cAFT,CAGE,MAAM,CAAE,CAAEW,CAAC,CAAE,gBAAL,CAHV,eAKE,oBAAC,WAAD,EAAa,UAAU,CAAC,YAAxB,EALF,CANF,cAaE,oBAAC,kBAAD,EACE,MAAM,CAAC,kBADT,CAEE,OAAO,CAAER,aAFX,CAGE,MAAM,CACJ,gBAACS,IAAD,QAAWA,CAAAA,IAAI,CAAI,MAAOA,CAAAA,IAAP,GAAgB,QAAhB,CAA2B,CAACA,IAAD,CAA3B,CAAoCA,IAAxC,CAAgD,EAA/D,EAAmE;AAJvE,EAbF,cAqBE,oBAAC,UAAD,kBArBF,cAsBE,oBAAC,WAAD,EAAa,MAAM,CAAC,kBAApB,CAAuC,OAAO,CAAER,aAAhD,EAtBF,cAuBE,oBAAC,SAAD,EAAW,MAAM,CAAC,kBAAlB,CAAqC,SAAS,KAA9C,EAvBF,cAwBE,oBAAC,SAAD,EAAW,MAAM,CAAC,sBAAlB,CAAyC,SAAS,KAAlD,EAxBF,cAyBE,oBAAC,UAAD,iBAzBF,cA0BE,oBAAC,yBAAD,EACE,SAAS,CAAC,OADZ,CAEE,MAAM,CAAC,kBAFT,CAGE,gBAAgB,CAAC,YAHnB,CAIE,OAAO,CAAE,IAJX,CAKE,QAAQ,CAAEE,iBALZ,eAOE,oBAAC,WAAD,MAPF,CA1BF,cAmCE,oBAAC,SAAD,EAAW,MAAM,CAAC,iBAAlB,CAAoC,SAAS,KAA7C,EAnCF,cAoCE,oBAAC,SAAD,EAAW,MAAM,CAAC,sBAAlB,CAAyC,SAAS,KAAlD,EApCF,cAqCE,oBAAC,SAAD,EAAW,MAAM,CAAC,qBAAlB,CAAwC,SAAS,KAAjD,EArCF,cAsCE,oBAAC,UAAD,sBAtCF,cAuCE,oBAAC,SAAD,EAAW,MAAM,CAAC,WAAlB,CAA8B,SAAS,KAAvC,EAvCF,cAwCE,oBAAC,SAAD,EAAW,MAAM,CAAC,cAAlB,CAAiC,SAAS,KAA1C,EAxCF,cAyCE,oBAAC,SAAD,EAAW,MAAM,CAAC,UAAlB,CAA6B,SAAS,KAAtC,EAzCF,cA0CE,oBAAC,SAAD,EAAW,MAAM,CAAC,aAAlB,CAAgC,SAAS,KAAzC,EA1CF,cA2CE,oBAAC,UAAD,gBA3CF,CA4CGG,IAAI,GAAK,QAAT,eACC,oBAAC,SAAD,EACE,MAAM,CAAC,aADT,CAEE,UAAU,CAAC,6GAFb,CAGE,SAAS,KAHX,EA7CJ,cAmDE,oBAAC,SAAD,EAAW,MAAM,CAAC,gBAAlB,CAAmC,SAAS,KAA5C,EAnDF,CADwB,EAAnB,CAwDP,cAAeD,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport {\n  SimpleForm,\n  TextInput,\n  SelectInput,\n  CheckboxGroupInput,\n  Toolbar,\n  required,\n} from \"react-admin\";\nimport { LargeLabel } from \"@semapps/archipelago-layout\";\nimport { ReferenceInput } from \"@semapps/semantic-data-provider\";\nimport { teachingLevel, structureType } from \"../../constants\";\nimport ReferenceQuickCreateInput from \"../../pair/ReferenceQuickCreateInput\";\nimport { validatePlaceForm, PlaceFields } from \"../Place/PlaceForm\";\n\nexport const PersonForm = ({ mode, ...rest }) => (\n  <SimpleForm\n    {...rest}\n    redirect=\"show\"\n    toolbar={<Toolbar alwaysEnableSaveButton />} // Always enable save as there are problems with ReferenceQuickCreateInput\n  >\n    <TextInput source=\"pair:label\" validate={required()} fullWidth />\n    <ReferenceInput\n      reference=\"Type\"\n      source=\"pair:hasType\"\n      filter={{ a: \"pair:AgentType\" }}\n    >\n      <SelectInput optionText=\"pair:label\" />\n    </ReferenceInput>\n    <CheckboxGroupInput\n      source=\"cd:teachingLevel\"\n      choices={teachingLevel}\n      format={\n        (data) => (data ? (typeof data === \"string\" ? [data] : data) : []) // deal with the possibility for teaching level to be a string or a list\n      }\n    />\n    {/* <TextInput source=\"cd:subjects\" fullWidth /> */}\n    <LargeLabel>Structure</LargeLabel>\n    <SelectInput source=\"cd:structureType\" choices={structureType} />\n    <TextInput source=\"cd:structureName\" fullWidth />\n    <TextInput source=\"cd:structureLocality\" fullWidth />\n    <LargeLabel>Pratique</LargeLabel>\n    <ReferenceQuickCreateInput\n      reference=\"Place\"\n      source=\"pair:hasLocation\"\n      selectOptionText=\"pair:label\"\n      perPage={1000}\n      validate={validatePlaceForm}\n    >\n      <PlaceFields />\n    </ReferenceQuickCreateInput>\n    <TextInput source=\"cd:practiceTime\" fullWidth />\n    <TextInput source=\"cd:practiceFrequency\" fullWidth />\n    <TextInput source=\"cd:practiceSubjects\" fullWidth />\n    <LargeLabel>Communauté</LargeLabel>\n    <TextInput source=\"cd:skills\" fullWidth />\n    <TextInput source=\"pair:webPage\" fullWidth />\n    <TextInput source=\"cd:needs\" fullWidth />\n    <TextInput source=\"cd:comments\" fullWidth />\n    <LargeLabel>Contact</LargeLabel>\n    {mode === \"create\" && (\n      <TextInput\n        source=\"pair:e-mail\"\n        helperText=\"Votre adresse mail n'apparaîtra pas publiquement. On pourra vous écrire via un formulaire de contact.\"\n        fullWidth\n      />\n    )}\n    <TextInput source=\"pair:aboutPage\" fullWidth />\n  </SimpleForm>\n);\n\nexport default PersonForm;\n"]},"metadata":{},"sourceType":"module"}