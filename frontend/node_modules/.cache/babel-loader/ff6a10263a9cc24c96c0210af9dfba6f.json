{"ast":null,"code":"import _regeneratorRuntime from \"/home/alexandre/dev/classe-dehors/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport e, { useState as r, useEffect as t } from \"react\";\nimport { ImageField as n, ReferenceArrayField as a, ReferenceField as o, useQueryWithStore as i, DateTimeInput as c, useResourceContext as u, ReferenceArrayInput as s, ReferenceInput as l, ArrayInput as f, SimpleFormIterator as p, TextInput as d, fetchUtils as y } from \"react-admin\";\nimport { makeStyles as m } from \"@material-ui/core/styles\";\nimport b from \"jsonld\";\n\nfunction h(e) {\n  return (h = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  })(e);\n}\n\nfunction g(e, r, t, n, a, o, i) {\n  try {\n    var c = e[o](i),\n        u = c.value;\n  } catch (e) {\n    return void t(e);\n  }\n\n  c.done ? r(u) : Promise.resolve(u).then(n, a);\n}\n\nfunction v(e) {\n  return function () {\n    var r = this,\n        t = arguments;\n    return new Promise(function (n, a) {\n      var o = e.apply(r, t);\n\n      function i(e) {\n        g(o, n, a, i, c, \"next\", e);\n      }\n\n      function c(e) {\n        g(o, n, a, i, c, \"throw\", e);\n      }\n\n      i(void 0);\n    });\n  };\n}\n\nfunction x(e, r, t) {\n  return r in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction w() {\n  return (w = Object.assign || function (e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var t = arguments[r];\n\n      for (var n in t) {\n        Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n      }\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction j(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    r && (n = n.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, n);\n  }\n\n  return t;\n}\n\nfunction O(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? j(Object(t), !0).forEach(function (r) {\n      x(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : j(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction E(e, r) {\n  if (null == e) return {};\n\n  var t,\n      n,\n      a = function (e, r) {\n    if (null == e) return {};\n    var t,\n        n,\n        a = {},\n        o = Object.keys(e);\n\n    for (n = 0; n < o.length; n++) {\n      t = o[n], r.indexOf(t) >= 0 || (a[t] = e[t]);\n    }\n\n    return a;\n  }(e, r);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n\n    for (n = 0; n < o.length; n++) {\n      t = o[n], r.indexOf(t) >= 0 || Object.prototype.propertyIsEnumerable.call(e, t) && (a[t] = e[t]);\n    }\n  }\n\n  return a;\n}\n\nfunction k(e, r) {\n  return function (e) {\n    if (Array.isArray(e)) return e;\n  }(e) || function (e, r) {\n    if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n    var t = [],\n        n = !0,\n        a = !1,\n        o = void 0;\n\n    try {\n      for (var i, c = e[Symbol.iterator](); !(n = (i = c.next()).done) && (t.push(i.value), !r || t.length !== r); n = !0) {\n        ;\n      }\n    } catch (e) {\n      a = !0, o = e;\n    } finally {\n      try {\n        n || null == c.return || c.return();\n      } finally {\n        if (a) throw o;\n      }\n    }\n\n    return t;\n  }(e, r) || A(e, r) || function () {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }();\n}\n\nfunction A(e, r) {\n  if (e) {\n    if (\"string\" == typeof e) return R(e, r);\n    var t = Object.prototype.toString.call(e).slice(8, -1);\n    return \"Object\" === t && e.constructor && (t = e.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(e) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? R(e, r) : void 0;\n  }\n}\n\nfunction R(e, r) {\n  (null == r || r > e.length) && (r = e.length);\n\n  for (var t = 0, n = new Array(r); t < r; t++) {\n    n[t] = e[t];\n  }\n\n  return n;\n}\n\nfunction S(e) {\n  if (\"undefined\" == typeof Symbol || null == e[Symbol.iterator]) {\n    if (Array.isArray(e) || (e = A(e))) {\n      var r = 0,\n          t = function t() {};\n\n      return {\n        s: t,\n        n: function n() {\n          return r >= e.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: e[r++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: t\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var _n,\n      a,\n      o = !0,\n      i = !1;\n\n  return {\n    s: function s() {\n      _n = e[Symbol.iterator]();\n    },\n    n: function n() {\n      var e = _n.next();\n\n      return o = e.done, e;\n    },\n    e: function e(_e2) {\n      i = !0, a = _e2;\n    },\n    f: function f() {\n      try {\n        o || null == _n.return || _n.return();\n      } finally {\n        if (i) throw a;\n      }\n    }\n  };\n}\n\nvar P = function P(r) {\n  var t = r.record,\n      a = r.source,\n      o = E(r, [\"record\", \"source\"]);\n  return \"string\" == typeof t && (t = x({}, a, t)), e.createElement(n, w({\n    record: t,\n    source: a\n  }, o));\n},\n    T = function T(r) {\n  var t = r.record,\n      n = r.source,\n      o = E(r, [\"record\", \"source\"]);\n  return (null == t ? void 0 : t[n]) && (Array.isArray(t[n]) || (t[n] = [t[n]]), t[n] = t[n].map(function (e) {\n    return e[\"@id\"] || e.id || e;\n  })), e.createElement(a, w({\n    record: t,\n    source: n\n  }, o));\n};\n\nT.defaultProps = {\n  addLabel: !0\n};\n\nvar I = function I(r) {\n  var t = r.record,\n      n = r.source,\n      a = E(r, [\"record\", \"source\"]);\n  return t[n] && \"object\" === h(t[n]) && (t[n] = t[n][\"@id\"] || t[n].id), e.createElement(o, w({\n    record: t,\n    source: n\n  }, a));\n};\n\nI.defaultProps = {\n  addLabel: !0\n};\n\nvar C = function C(n) {\n  var a = n.children,\n      o = n.record,\n      i = n.filter,\n      c = n.source,\n      u = E(n, [\"children\", \"record\", \"filter\", \"source\"]),\n      s = k(r(), 2),\n      l = s[0],\n      f = s[1];\n  return t(function () {\n    if (o && c && Array.isArray(null == o ? void 0 : o[c])) {\n      var e = null == o ? void 0 : o[c].filter(function (e) {\n        var r = !0;\n\n        for (var t in i) {\n          var n = e[t];\n          Array.isArray(n) ? n.includes(i[t]) || (r = !1) : n !== i[t] && (r = !1);\n        }\n\n        return r;\n      }),\n          r = O({}, o);\n      r[c] = e.length > 0 ? e : void 0, f(r);\n    }\n  }, [o, c, i]), e.createElement(e.Fragment, null, e.Children.map(a, function (r, t) {\n    return e.cloneElement(r, O(O({}, u), {}, {\n      record: l,\n      addLabel: !0,\n      source: c\n    }));\n  }));\n},\n    F = function F(r) {\n  var t = r.children,\n      n = r.groupReference,\n      a = r.groupLabel,\n      o = r.groupHeader,\n      c = r.filterProperty,\n      u = E(r, [\"children\", \"groupReference\", \"groupLabel\", \"groupHeader\", \"filterProperty\"]),\n      s = i({\n    type: \"getList\",\n    resource: n,\n    payload: {}\n  }).data;\n  return e.createElement(e.Fragment, null, null == s ? void 0 : s.map(function (r, n) {\n    var i = {};\n    return i[c] = r.id, e.createElement(e.Fragment, null, o && o(O(O({}, u), {}, {\n      group: r\n    })), e.createElement(C, w({}, u, {\n      filter: i,\n      label: r[a]\n    }), t));\n  }));\n},\n    L = function L(r) {\n  return e.createElement(c, w({}, r, {\n    format: function format(e) {\n      return e && e.replace(\" \", \"T\").replace(\"Z\", \"\");\n    }\n  }));\n},\n    U = function U(r) {\n  var t = u({});\n  return e.createElement(s, w({}, r, {\n    resource: t,\n    format: function format(e) {\n      return e ? (Array.isArray(e) || (e = [e]), r.format && (e = r.format(e)), e.map(function (e) {\n        return \"object\" === h(e) ? e.id || e[\"@id\"] : e;\n      })) : e;\n    }\n  }));\n},\n    D = function D(r) {\n  var t = u({});\n  return e.createElement(l, w({}, r, {\n    resource: t,\n    format: function format(e) {\n      return e ? (r.format && (e = r.format(e)), \"object\" === h(e) ? e.id || e[\"@id\"] : e) : e;\n    }\n  }));\n},\n    M = m({\n  form: {\n    display: \"flex\"\n  },\n  input: {\n    paddingRight: \"20px\"\n  }\n}),\n    N = m({\n  root: {\n    display: \"none\"\n  }\n}),\n    q = function q(r) {\n  var t = r.reificationClass,\n      n = (r.children, E(r, [\"reificationClass\", \"children\"])),\n      a = M(),\n      o = N();\n  return e.createElement(f, n, e.createElement(p, {\n    classes: {\n      form: a.form\n    }\n  }, e.Children.map(r.children, function (r, t) {\n    return e.cloneElement(r, {\n      className: a.input\n    });\n  }), e.createElement(d, {\n    className: o.root,\n    source: \"type\",\n    initialValue: t\n  })));\n},\n    H = function H(e) {\n  return e.split(\":\").map(function (e) {\n    return e[0].toUpperCase() + e.slice(1);\n  }).join(\"\");\n},\n    J = function J(e) {\n  var r = e.types,\n      t = e.params,\n      n = t.pagination,\n      a = (t.sort, t.filter),\n      o = e.dereference,\n      i = e.ontologies,\n      c = \"\";\n  a && (a.q && a.q.length > 0 && (c += '\\n      {\\n        SELECT ?s1\\n        WHERE {\\n          ?s1 ?p1 ?o1 .\\n          FILTER regex(lcase(str(?o1)), \"'.concat(a.q.toLowerCase(), '\")\\n          FILTER NOT EXISTS {?s1 a ?o1}\\n        }\\n      }\\n      '), delete a.q), Object.keys(a).forEach(function (e) {\n    if (a[e]) {\n      var r = a[e].startsWith(\"http\") ? \"<\".concat(a[e], \">\") : a[e];\n      c += \"?s1 \".concat(e, \" \").concat(r, \" .\");\n    }\n  }));\n\n  var u = function (e) {\n    var r = [];\n    if (e) for (var t = e.reduce(function (e, r) {\n      return function e(r, t) {\n        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"root\";\n\n        if (t.includes(\"/\")) {\n          var a = t.split(/\\/(.+)/);\n          r[a[0]] = n, e(r, a[1], a[0]);\n        } else r[t] = n;\n\n        return r;\n      }(e, r);\n    }, {}), n = 0, a = Object.entries(t); n < a.length; n++) {\n      var o = k(a[n], 2),\n          i = o[0],\n          c = o[1],\n          u = H(i),\n          s = \"root\" === c ? \"1\" : H(c),\n          l = \"root\" === c ? i : c;\n      r[l] || (r[l] = []), r[l].push(\"\\n        ?s\".concat(s, \" \").concat(i, \" ?s\").concat(u, \" .\\n        ?s\").concat(u, \" ?p\").concat(u, \" ?o\").concat(u, \" .\\n      \"));\n    }\n    return {\n      construct: Object.values(r).map(function (e) {\n        return Object.values(e).join(\"\\n\");\n      }).join(\"\\n\"),\n      where: Object.values(r).map(function (e) {\n        return \"OPTIONAL { \".concat(Object.values(e).join(\"\\n\"), \" }\");\n      }).join(\"\\n\")\n    };\n  }(o),\n      s = \"\\n    \".concat(function (e) {\n    return e.map(function (e) {\n      return \"PREFIX \".concat(e.prefix, \": <\").concat(e.url, \">\");\n    }).join(\"\\n\");\n  }(i), \"\\n    CONSTRUCT {\\n      ?s1 ?p2 ?o2 .\\n      \").concat(u.construct, \"\\n    }\\n    WHERE {\\n      ?s1 a ?type .\\n      FILTER( ?type IN (\").concat(r.join(\", \"), \") ) .\\n      FILTER( (isIRI(?s1)) ) .\\n      \").concat(c, \"\\n      \").concat(u.where, \"\\n      ?s1 ?p2 ?o2 .\\n    }\\n  \");\n\n  return n && (s = \"\\n    \".concat(s, \"\\n    # TODO try to make pagination work in SPARQL as this doesn't work.\\n    # LIMIT \").concat(n.perPage, \"\\n    # OFFSET \").concat((n.page - 1) * n.perPage, \"\\n    \")), s;\n},\n    W = require(\"speakingurl\"),\n    X = function X(e) {\n  var r = {};\n  return e.forEach(function (e) {\n    return r[e.prefix] = e.url;\n  }), r;\n},\n    z = function z(e) {\n  return e && e.rawFile && e.rawFile instanceof File;\n},\n    B = function B(e) {\n  var r,\n      t,\n      n,\n      a,\n      o,\n      i,\n      c = e.sparqlEndpoint,\n      u = e.httpClient,\n      s = e.resources,\n      l = e.ontologies,\n      f = e.jsonContext,\n      p = e.uploadsContainerUri,\n      d = function () {\n    var e = v(_regeneratorRuntime.mark(function e(r) {\n      var t;\n      return _regeneratorRuntime.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              if (p) {\n                e.next = 2;\n                break;\n              }\n\n              throw new Error(\"No uploadsContainerUri defined for the data provider\");\n\n            case 2:\n              return e.next = 4, u(p, {\n                method: \"POST\",\n                body: r,\n                headers: new Headers({\n                  Slug: (n = r.name, a = void 0, o = void 0, a = \"\", o = n.split(\".\"), o.length > 1 && (a = o.pop(), n = o.join(\".\")), W(n, {\n                    lang: \"fr\"\n                  }) + \".\" + a),\n                  \"Content-Type\": r.type\n                })\n              });\n\n            case 4:\n              if (201 !== (t = e.sent).status) {\n                e.next = 7;\n                break;\n              }\n\n              return e.abrupt(\"return\", t.headers.get(\"Location\"));\n\n            case 7:\n            case \"end\":\n              return e.stop();\n          }\n        }\n\n        var n, a, o;\n      }, e);\n    }));\n    return function (r) {\n      return e.apply(this, arguments);\n    };\n  }(),\n      y = function () {\n    var e = v(_regeneratorRuntime.mark(function e(r) {\n      var t, n;\n      return _regeneratorRuntime.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              e.t0 = _regeneratorRuntime.keys(r);\n\n            case 1:\n              if ((e.t1 = e.t0()).done) {\n                e.next = 22;\n                break;\n              }\n\n              if (t = e.t1.value, !r.hasOwnProperty(t)) {\n                e.next = 20;\n                break;\n              }\n\n              if (!Array.isArray(r[t])) {\n                e.next = 16;\n                break;\n              }\n\n              n = 0;\n\n            case 6:\n              if (!(n < r[t].length)) {\n                e.next = 14;\n                break;\n              }\n\n              if (!z(r[t][n])) {\n                e.next = 11;\n                break;\n              }\n\n              return e.next = 10, d(r[t][n].rawFile);\n\n            case 10:\n              r[t][n] = e.sent;\n\n            case 11:\n              n++, e.next = 6;\n              break;\n\n            case 14:\n              e.next = 20;\n              break;\n\n            case 16:\n              if (!z(r[t])) {\n                e.next = 20;\n                break;\n              }\n\n              return e.next = 19, d(r[t].rawFile);\n\n            case 19:\n              r[t] = e.sent;\n\n            case 20:\n              e.next = 1;\n              break;\n\n            case 22:\n              return e.abrupt(\"return\", r);\n\n            case 23:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }));\n    return function (r) {\n      return e.apply(this, arguments);\n    };\n  }();\n\n  return {\n    getList: (i = v(_regeneratorRuntime.mark(function e(r, t) {\n      var n, a, o, i, p, d, y, m, h, g, v, x;\n      return _regeneratorRuntime.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              if (s[r], !t.id && !t[\"@id\"] && s[r].types) {\n                e.next = 26;\n                break;\n              }\n\n              return n = t.id || t[\"@id\"] || s[r].containerUri, e.next = 5, u(n);\n\n            case 5:\n              if (a = e.sent, o = a.json, w = \"ldp:Container\", E = void 0, E = (j = o).type || j[\"@type\"], !(Array.isArray(E) ? E.includes(w) : E === w)) {\n                e.next = 14;\n                break;\n              }\n\n              return i = o[\"ldp:contains\"].map(function (e) {\n                return e.id = e.id || e[\"@id\"], e;\n              }), t.filter && (t.filter.q && delete t.filter.q, Object.keys(t.filter).length > 0 && (i = i.filter(function (e) {\n                return Object.entries(t.filter).some(function (r) {\n                  var t = k(r, 2),\n                      n = t[0],\n                      a = t[1];\n                  return Array.isArray(e[n]) ? e[n].includes(a) : e[n] === a;\n                });\n              }))), t.pagination && (i = i.slice((t.pagination.page - 1) * t.pagination.perPage, t.pagination.page * t.pagination.perPage)), e.abrupt(\"return\", {\n                data: i,\n                total: o[\"ldp:contains\"].length\n              });\n\n            case 14:\n              if (!o.first) {\n                e.next = 19;\n                break;\n              }\n\n              return e.next = 17, u(o.first);\n\n            case 17:\n              p = e.sent, o = p.json;\n\n            case 19:\n              if (d = [\"as:orderedItems\", \"orderedItems\", \"as:items\", \"items\"].find(function (e) {\n                return o[e];\n              })) {\n                e.next = 22;\n                break;\n              }\n\n              return e.abrupt(\"return\", {\n                data: [],\n                total: 0\n              });\n\n            case 22:\n              return y = o[d].map(function (e) {\n                return e.id = e.id || e[\"@id\"], e;\n              }), e.abrupt(\"return\", {\n                data: y,\n                total: o.totalItems\n              });\n\n            case 24:\n              e.next = 47;\n              break;\n\n            case 26:\n              return m = J({\n                types: s[r].types,\n                params: O(O({}, t), {}, {\n                  filter: O(O({}, s[r].filter), t.filter)\n                }),\n                dereference: s[r].dereference,\n                ontologies: l\n              }), e.next = 29, u(c, {\n                method: \"POST\",\n                body: m\n              });\n\n            case 29:\n              return h = e.sent, g = h.json, e.next = 33, b.frame(g, {\n                \"@context\": f || X(l),\n                \"@type\": s[r].types\n              });\n\n            case 33:\n              if (v = e.sent, 1 !== Object.keys(v).length) {\n                e.next = 38;\n                break;\n              }\n\n              return e.abrupt(\"return\", {\n                data: [],\n                total: 0\n              });\n\n            case 38:\n              if (v[\"@graph\"]) {\n                e.next = 43;\n                break;\n              }\n\n              return v.id = v.id || v[\"@id\"], e.abrupt(\"return\", {\n                data: [v],\n                total: 1\n              });\n\n            case 43:\n              return x = v[\"@graph\"].map(function (e) {\n                return e.id = e.id || e[\"@id\"], e;\n              }), t.sort && (x = x.sort(function (e, r) {\n                return !(t.sort && e[t.sort.field] && r[t.sort.field]) || (\"DESC\" === t.sort.order ? e[t.sort.field].localeCompare(r[t.sort.field]) : r[t.sort.field].localeCompare(e[t.sort.field]));\n              })), t.pagination && (x = x.slice((t.pagination.page - 1) * t.pagination.perPage, t.pagination.page * t.pagination.perPage)), e.abrupt(\"return\", {\n                data: x,\n                total: v[\"@graph\"].length\n              });\n\n            case 47:\n            case \"end\":\n              return e.stop();\n          }\n        }\n\n        var w, j, E;\n      }, e);\n    })), function (e, r) {\n      return i.apply(this, arguments);\n    }),\n    getOne: (o = v(_regeneratorRuntime.mark(function e(r, t) {\n      var n, a, o, i, c, p, d;\n      return _regeneratorRuntime.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              return s[r], n = s[r], e.next = 4, u(t.id);\n\n            case 4:\n              return a = e.sent, (o = a.json).id = o.id || o[\"@id\"], e.next = 9, b.compact(o, f || X(l));\n\n            case 9:\n              if (i = e.sent, n.forceArray) {\n                c = S(n.forceArray);\n\n                try {\n                  for (c.s(); !(p = c.n()).done;) {\n                    d = p.value, i[d] && !Array.isArray(i[d]) && (i[d] = [i[d]]);\n                  }\n                } catch (e) {\n                  c.e(e);\n                } finally {\n                  c.f();\n                }\n              }\n\n              return e.abrupt(\"return\", {\n                data: i\n              });\n\n            case 12:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    })), function (e, r) {\n      return o.apply(this, arguments);\n    }),\n    getMany: (a = v(_regeneratorRuntime.mark(function e(r, t) {\n      var n, a, o, i, c, s;\n      return _regeneratorRuntime.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              n = [], a = S(t.ids), e.prev = 2, a.s();\n\n            case 4:\n              if ((o = a.n()).done) {\n                e.next = 20;\n                break;\n              }\n\n              return i = \"object\" === h(i = o.value) ? i[\"@id\"] : i, e.prev = 7, e.next = 10, u(i);\n\n            case 10:\n              c = e.sent, (s = c.json).id = s.id || s[\"@id\"], n.push(s), e.next = 18;\n              break;\n\n            case 16:\n              e.prev = 16, e.t0 = e.catch(7);\n\n            case 18:\n              e.next = 4;\n              break;\n\n            case 20:\n              e.next = 25;\n              break;\n\n            case 22:\n              e.prev = 22, e.t1 = e.catch(2), a.e(e.t1);\n\n            case 25:\n              return e.prev = 25, a.f(), e.finish(25);\n\n            case 28:\n              return e.abrupt(\"return\", {\n                data: n\n              });\n\n            case 29:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e, null, [[2, 22, 25, 28], [7, 16]]);\n    })), function (e, r) {\n      return a.apply(this, arguments);\n    }),\n    getManyReference: function getManyReference(e, r) {\n      throw new Error(\"getManyReference is not implemented yet\");\n    },\n    create: (n = v(_regeneratorRuntime.mark(function e(r, t) {\n      var n, a, o, i, c, p, d, m, b, h;\n      return _regeneratorRuntime.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              return s[r], n = s[r], a = n.slugField, o = n.containerUri, i = n.types, c = new Headers(), a && c.set(\"Slug\", Array.isArray(a) ? a.map(function (e) {\n                return t.data[e];\n              }).join(\" \") : t.data[a]), e.next = 6, y(t.data);\n\n            case 6:\n              return t.data = e.sent, e.next = 9, u(o, {\n                method: \"POST\",\n                headers: c,\n                body: JSON.stringify(O({\n                  \"@context\": f || X(l),\n                  \"@type\": i\n                }, t.data))\n              });\n\n            case 9:\n              return p = e.sent, d = p.headers, m = d.get(\"Location\"), e.next = 14, u(m);\n\n            case 14:\n              return b = e.sent, (h = b.json).id = h.id || h[\"@id\"], e.abrupt(\"return\", {\n                data: h\n              });\n\n            case 18:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    })), function (e, r) {\n      return n.apply(this, arguments);\n    }),\n    update: (t = v(_regeneratorRuntime.mark(function e(r, t) {\n      return _regeneratorRuntime.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              return e.next = 2, y(t.data);\n\n            case 2:\n              return t.data = e.sent, e.next = 5, u(t.id, {\n                method: \"PUT\",\n                body: JSON.stringify(O({\n                  \"@context\": f || X(l)\n                }, t.data))\n              });\n\n            case 5:\n              return e.abrupt(\"return\", {\n                data: t.data\n              });\n\n            case 6:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    })), function (e, r) {\n      return t.apply(this, arguments);\n    }),\n    updateMany: function updateMany(e, r) {\n      throw new Error(\"updateMany is not implemented yet\");\n    },\n    delete: (r = v(_regeneratorRuntime.mark(function e(r, t) {\n      return _regeneratorRuntime.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              return e.next = 2, u(t.id, {\n                method: \"DELETE\"\n              });\n\n            case 2:\n              return e.abrupt(\"return\", {\n                data: {\n                  id: t.id\n                }\n              });\n\n            case 3:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    })), function (e, t) {\n      return r.apply(this, arguments);\n    }),\n    deleteMany: function deleteMany(e, r) {\n      throw new Error(\"deleteMany is not implemented yet\");\n    }\n  };\n},\n    G = function G(e) {\n  var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n\n  switch (r.headers || (r.headers = new Headers()), r.method) {\n    case \"POST\":\n    case \"PATCH\":\n      r.headers.has(\"Accept\") || r.headers.set(\"Accept\", \"application/ld+json\"), r.headers.has(\"Content-Type\") || r.headers.set(\"Content-Type\", \"application/ld+json\");\n      break;\n\n    case \"DELETE\":\n      break;\n\n    case \"GET\":\n    default:\n      r.headers.has(\"Accept\") || r.headers.set(\"Accept\", \"application/ld+json\");\n  }\n\n  var t = localStorage.getItem(\"token\");\n  return t && r.headers.set(\"Authorization\", \"Bearer \".concat(t)), y.fetchJson(e, r);\n};\n\nexport { L as DateTimeInput, C as FilterHandler, F as GroupedReferenceHandler, P as ImageField, T as ReferenceArrayField, U as ReferenceArrayInput, I as ReferenceField, D as ReferenceInput, q as ReificationArrayInput, T as UriArrayField, U as UriArrayInput, B as dataProvider, G as httpClient };","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/node_modules/@semapps/semantic-data-provider/dist/index.es.js"],"names":["e","useState","r","useEffect","t","ImageField","n","ReferenceArrayField","a","ReferenceField","o","useQueryWithStore","i","DateTimeInput","c","useResourceContext","u","ReferenceArrayInput","s","ReferenceInput","l","ArrayInput","f","SimpleFormIterator","p","TextInput","d","fetchUtils","y","makeStyles","m","b","h","Symbol","iterator","constructor","prototype","g","value","done","Promise","resolve","then","v","arguments","apply","x","Object","defineProperty","enumerable","configurable","writable","w","assign","length","hasOwnProperty","call","j","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","O","forEach","getOwnPropertyDescriptors","defineProperties","E","indexOf","propertyIsEnumerable","k","Array","isArray","next","return","A","TypeError","R","toString","slice","name","from","test","S","P","record","source","createElement","T","map","id","defaultProps","addLabel","I","C","children","includes","Fragment","Children","cloneElement","F","groupReference","groupLabel","groupHeader","filterProperty","type","resource","payload","data","group","label","L","format","replace","U","D","M","form","display","input","paddingRight","N","root","q","reificationClass","classes","className","initialValue","H","split","toUpperCase","join","J","types","params","pagination","sort","dereference","ontologies","concat","toLowerCase","startsWith","reduce","entries","construct","values","where","prefix","url","perPage","page","W","require","X","z","rawFile","File","B","sparqlEndpoint","httpClient","resources","jsonContext","uploadsContainerUri","mark","wrap","prev","Error","method","body","headers","Headers","Slug","pop","lang","sent","status","abrupt","get","stop","t0","t1","getList","containerUri","json","some","total","first","find","totalItems","frame","field","order","localeCompare","getOne","compact","forceArray","getMany","ids","catch","finish","getManyReference","create","slugField","set","JSON","stringify","update","updateMany","delete","deleteMany","G","has","localStorage","getItem","fetchJson","FilterHandler","GroupedReferenceHandler","ReificationArrayInput","UriArrayField","UriArrayInput","dataProvider"],"mappings":"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","sourcesContent":["import e,{useState as r,useEffect as t}from\"react\";import{ImageField as n,ReferenceArrayField as a,ReferenceField as o,useQueryWithStore as i,DateTimeInput as c,useResourceContext as u,ReferenceArrayInput as s,ReferenceInput as l,ArrayInput as f,SimpleFormIterator as p,TextInput as d,fetchUtils as y}from\"react-admin\";import{makeStyles as m}from\"@material-ui/core/styles\";import b from\"jsonld\";function h(e){return(h=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function g(e,r,t,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void t(e)}c.done?r(u):Promise.resolve(u).then(n,a)}function v(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){g(o,n,a,i,c,\"next\",e)}function c(e){g(o,n,a,i,c,\"throw\",e)}i(void 0)}))}}function x(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w(){return(w=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){x(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function E(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function k(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return t}(e,r)||A(e,r)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function A(e,r){if(e){if(\"string\"==typeof e)return R(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===t&&e.constructor&&(t=e.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(e):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,r):void 0}}function R(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function S(e){if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=A(e))){var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var n,a,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}var P=function(r){var t=r.record,a=r.source,o=E(r,[\"record\",\"source\"]);return\"string\"==typeof t&&(t=x({},a,t)),e.createElement(n,w({record:t,source:a},o))},T=function(r){var t=r.record,n=r.source,o=E(r,[\"record\",\"source\"]);return(null==t?void 0:t[n])&&(Array.isArray(t[n])||(t[n]=[t[n]]),t[n]=t[n].map((function(e){return e[\"@id\"]||e.id||e}))),e.createElement(a,w({record:t,source:n},o))};T.defaultProps={addLabel:!0};var I=function(r){var t=r.record,n=r.source,a=E(r,[\"record\",\"source\"]);return t[n]&&\"object\"===h(t[n])&&(t[n]=t[n][\"@id\"]||t[n].id),e.createElement(o,w({record:t,source:n},a))};I.defaultProps={addLabel:!0};var C=function(n){var a=n.children,o=n.record,i=n.filter,c=n.source,u=E(n,[\"children\",\"record\",\"filter\",\"source\"]),s=k(r(),2),l=s[0],f=s[1];return t((function(){if(o&&c&&Array.isArray(null==o?void 0:o[c])){var e=null==o?void 0:o[c].filter((function(e){var r=!0;for(var t in i){var n=e[t];Array.isArray(n)?n.includes(i[t])||(r=!1):n!==i[t]&&(r=!1)}return r})),r=O({},o);r[c]=e.length>0?e:void 0,f(r)}}),[o,c,i]),e.createElement(e.Fragment,null,e.Children.map(a,(function(r,t){return e.cloneElement(r,O(O({},u),{},{record:l,addLabel:!0,source:c}))})))},F=function(r){var t=r.children,n=r.groupReference,a=r.groupLabel,o=r.groupHeader,c=r.filterProperty,u=E(r,[\"children\",\"groupReference\",\"groupLabel\",\"groupHeader\",\"filterProperty\"]),s=i({type:\"getList\",resource:n,payload:{}}).data;return e.createElement(e.Fragment,null,null==s?void 0:s.map((function(r,n){var i={};return i[c]=r.id,e.createElement(e.Fragment,null,o&&o(O(O({},u),{},{group:r})),e.createElement(C,w({},u,{filter:i,label:r[a]}),t))})))},L=function(r){return e.createElement(c,w({},r,{format:function(e){return e&&e.replace(\" \",\"T\").replace(\"Z\",\"\")}}))},U=function(r){var t=u({});return e.createElement(s,w({},r,{resource:t,format:function(e){return e?(Array.isArray(e)||(e=[e]),r.format&&(e=r.format(e)),e.map((function(e){return\"object\"===h(e)?e.id||e[\"@id\"]:e}))):e}}))},D=function(r){var t=u({});return e.createElement(l,w({},r,{resource:t,format:function(e){return e?(r.format&&(e=r.format(e)),\"object\"===h(e)?e.id||e[\"@id\"]:e):e}}))},M=m({form:{display:\"flex\"},input:{paddingRight:\"20px\"}}),N=m({root:{display:\"none\"}}),q=function(r){var t=r.reificationClass,n=(r.children,E(r,[\"reificationClass\",\"children\"])),a=M(),o=N();return e.createElement(f,n,e.createElement(p,{classes:{form:a.form}},e.Children.map(r.children,(function(r,t){return e.cloneElement(r,{className:a.input})})),e.createElement(d,{className:o.root,source:\"type\",initialValue:t})))},H=function(e){return e.split(\":\").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(\"\")},J=function(e){var r=e.types,t=e.params,n=t.pagination,a=(t.sort,t.filter),o=e.dereference,i=e.ontologies,c=\"\";a&&(a.q&&a.q.length>0&&(c+='\\n      {\\n        SELECT ?s1\\n        WHERE {\\n          ?s1 ?p1 ?o1 .\\n          FILTER regex(lcase(str(?o1)), \"'.concat(a.q.toLowerCase(),'\")\\n          FILTER NOT EXISTS {?s1 a ?o1}\\n        }\\n      }\\n      '),delete a.q),Object.keys(a).forEach((function(e){if(a[e]){var r=a[e].startsWith(\"http\")?\"<\".concat(a[e],\">\"):a[e];c+=\"?s1 \".concat(e,\" \").concat(r,\" .\")}})));var u=function(e){var r=[];if(e)for(var t=e.reduce((function(e,r){return function e(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"root\";if(t.includes(\"/\")){var a=t.split(/\\/(.+)/);r[a[0]]=n,e(r,a[1],a[0])}else r[t]=n;return r}(e,r)}),{}),n=0,a=Object.entries(t);n<a.length;n++){var o=k(a[n],2),i=o[0],c=o[1],u=H(i),s=\"root\"===c?\"1\":H(c),l=\"root\"===c?i:c;r[l]||(r[l]=[]),r[l].push(\"\\n        ?s\".concat(s,\" \").concat(i,\" ?s\").concat(u,\" .\\n        ?s\").concat(u,\" ?p\").concat(u,\" ?o\").concat(u,\" .\\n      \"))}return{construct:Object.values(r).map((function(e){return Object.values(e).join(\"\\n\")})).join(\"\\n\"),where:Object.values(r).map((function(e){return\"OPTIONAL { \".concat(Object.values(e).join(\"\\n\"),\" }\")})).join(\"\\n\")}}(o),s=\"\\n    \".concat(function(e){return e.map((function(e){return\"PREFIX \".concat(e.prefix,\": <\").concat(e.url,\">\")})).join(\"\\n\")}(i),\"\\n    CONSTRUCT {\\n      ?s1 ?p2 ?o2 .\\n      \").concat(u.construct,\"\\n    }\\n    WHERE {\\n      ?s1 a ?type .\\n      FILTER( ?type IN (\").concat(r.join(\", \"),\") ) .\\n      FILTER( (isIRI(?s1)) ) .\\n      \").concat(c,\"\\n      \").concat(u.where,\"\\n      ?s1 ?p2 ?o2 .\\n    }\\n  \");return n&&(s=\"\\n    \".concat(s,\"\\n    # TODO try to make pagination work in SPARQL as this doesn't work.\\n    # LIMIT \").concat(n.perPage,\"\\n    # OFFSET \").concat((n.page-1)*n.perPage,\"\\n    \")),s},W=require(\"speakingurl\"),X=function(e){var r={};return e.forEach((function(e){return r[e.prefix]=e.url})),r},z=function(e){return e&&e.rawFile&&e.rawFile instanceof File},B=function(e){var r,t,n,a,o,i,c=e.sparqlEndpoint,u=e.httpClient,s=e.resources,l=e.ontologies,f=e.jsonContext,p=e.uploadsContainerUri,d=function(){var e=v(regeneratorRuntime.mark((function e(r){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}throw new Error(\"No uploadsContainerUri defined for the data provider\");case 2:return e.next=4,u(p,{method:\"POST\",body:r,headers:new Headers({Slug:(n=r.name,a=void 0,o=void 0,a=\"\",o=n.split(\".\"),o.length>1&&(a=o.pop(),n=o.join(\".\")),W(n,{lang:\"fr\"})+\".\"+a),\"Content-Type\":r.type})});case 4:if(201!==(t=e.sent).status){e.next=7;break}return e.abrupt(\"return\",t.headers.get(\"Location\"));case 7:case\"end\":return e.stop()}var n,a,o}),e)})));return function(r){return e.apply(this,arguments)}}(),y=function(){var e=v(regeneratorRuntime.mark((function e(r){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(r);case 1:if((e.t1=e.t0()).done){e.next=22;break}if(t=e.t1.value,!r.hasOwnProperty(t)){e.next=20;break}if(!Array.isArray(r[t])){e.next=16;break}n=0;case 6:if(!(n<r[t].length)){e.next=14;break}if(!z(r[t][n])){e.next=11;break}return e.next=10,d(r[t][n].rawFile);case 10:r[t][n]=e.sent;case 11:n++,e.next=6;break;case 14:e.next=20;break;case 16:if(!z(r[t])){e.next=20;break}return e.next=19,d(r[t].rawFile);case 19:r[t]=e.sent;case 20:e.next=1;break;case 22:return e.abrupt(\"return\",r);case 23:case\"end\":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return{getList:(i=v(regeneratorRuntime.mark((function e(r,t){var n,a,o,i,p,d,y,m,h,g,v,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s[r],!t.id&&!t[\"@id\"]&&s[r].types){e.next=26;break}return n=t.id||t[\"@id\"]||s[r].containerUri,e.next=5,u(n);case 5:if(a=e.sent,o=a.json,w=\"ldp:Container\",E=void 0,E=(j=o).type||j[\"@type\"],!(Array.isArray(E)?E.includes(w):E===w)){e.next=14;break}return i=o[\"ldp:contains\"].map((function(e){return e.id=e.id||e[\"@id\"],e})),t.filter&&(t.filter.q&&delete t.filter.q,Object.keys(t.filter).length>0&&(i=i.filter((function(e){return Object.entries(t.filter).some((function(r){var t=k(r,2),n=t[0],a=t[1];return Array.isArray(e[n])?e[n].includes(a):e[n]===a}))})))),t.pagination&&(i=i.slice((t.pagination.page-1)*t.pagination.perPage,t.pagination.page*t.pagination.perPage)),e.abrupt(\"return\",{data:i,total:o[\"ldp:contains\"].length});case 14:if(!o.first){e.next=19;break}return e.next=17,u(o.first);case 17:p=e.sent,o=p.json;case 19:if(d=[\"as:orderedItems\",\"orderedItems\",\"as:items\",\"items\"].find((function(e){return o[e]}))){e.next=22;break}return e.abrupt(\"return\",{data:[],total:0});case 22:return y=o[d].map((function(e){return e.id=e.id||e[\"@id\"],e})),e.abrupt(\"return\",{data:y,total:o.totalItems});case 24:e.next=47;break;case 26:return m=J({types:s[r].types,params:O(O({},t),{},{filter:O(O({},s[r].filter),t.filter)}),dereference:s[r].dereference,ontologies:l}),e.next=29,u(c,{method:\"POST\",body:m});case 29:return h=e.sent,g=h.json,e.next=33,b.frame(g,{\"@context\":f||X(l),\"@type\":s[r].types});case 33:if(v=e.sent,1!==Object.keys(v).length){e.next=38;break}return e.abrupt(\"return\",{data:[],total:0});case 38:if(v[\"@graph\"]){e.next=43;break}return v.id=v.id||v[\"@id\"],e.abrupt(\"return\",{data:[v],total:1});case 43:return x=v[\"@graph\"].map((function(e){return e.id=e.id||e[\"@id\"],e})),t.sort&&(x=x.sort((function(e,r){return!(t.sort&&e[t.sort.field]&&r[t.sort.field])||(\"DESC\"===t.sort.order?e[t.sort.field].localeCompare(r[t.sort.field]):r[t.sort.field].localeCompare(e[t.sort.field]))}))),t.pagination&&(x=x.slice((t.pagination.page-1)*t.pagination.perPage,t.pagination.page*t.pagination.perPage)),e.abrupt(\"return\",{data:x,total:v[\"@graph\"].length});case 47:case\"end\":return e.stop()}var w,j,E}),e)}))),function(e,r){return i.apply(this,arguments)}),getOne:(o=v(regeneratorRuntime.mark((function e(r,t){var n,a,o,i,c,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s[r],n=s[r],e.next=4,u(t.id);case 4:return a=e.sent,(o=a.json).id=o.id||o[\"@id\"],e.next=9,b.compact(o,f||X(l));case 9:if(i=e.sent,n.forceArray){c=S(n.forceArray);try{for(c.s();!(p=c.n()).done;)d=p.value,i[d]&&!Array.isArray(i[d])&&(i[d]=[i[d]])}catch(e){c.e(e)}finally{c.f()}}return e.abrupt(\"return\",{data:i});case 12:case\"end\":return e.stop()}}),e)}))),function(e,r){return o.apply(this,arguments)}),getMany:(a=v(regeneratorRuntime.mark((function e(r,t){var n,a,o,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=S(t.ids),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=20;break}return i=\"object\"===h(i=o.value)?i[\"@id\"]:i,e.prev=7,e.next=10,u(i);case 10:c=e.sent,(s=c.json).id=s.id||s[\"@id\"],n.push(s),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(7);case 18:e.next=4;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(2),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:return e.abrupt(\"return\",{data:n});case 29:case\"end\":return e.stop()}}),e,null,[[2,22,25,28],[7,16]])}))),function(e,r){return a.apply(this,arguments)}),getManyReference:function(e,r){throw new Error(\"getManyReference is not implemented yet\")},create:(n=v(regeneratorRuntime.mark((function e(r,t){var n,a,o,i,c,p,d,m,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s[r],n=s[r],a=n.slugField,o=n.containerUri,i=n.types,c=new Headers,a&&c.set(\"Slug\",Array.isArray(a)?a.map((function(e){return t.data[e]})).join(\" \"):t.data[a]),e.next=6,y(t.data);case 6:return t.data=e.sent,e.next=9,u(o,{method:\"POST\",headers:c,body:JSON.stringify(O({\"@context\":f||X(l),\"@type\":i},t.data))});case 9:return p=e.sent,d=p.headers,m=d.get(\"Location\"),e.next=14,u(m);case 14:return b=e.sent,(h=b.json).id=h.id||h[\"@id\"],e.abrupt(\"return\",{data:h});case 18:case\"end\":return e.stop()}}),e)}))),function(e,r){return n.apply(this,arguments)}),update:(t=v(regeneratorRuntime.mark((function e(r,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t.data);case 2:return t.data=e.sent,e.next=5,u(t.id,{method:\"PUT\",body:JSON.stringify(O({\"@context\":f||X(l)},t.data))});case 5:return e.abrupt(\"return\",{data:t.data});case 6:case\"end\":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)}),updateMany:function(e,r){throw new Error(\"updateMany is not implemented yet\")},delete:(r=v(regeneratorRuntime.mark((function e(r,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t.id,{method:\"DELETE\"});case 2:return e.abrupt(\"return\",{data:{id:t.id}});case 3:case\"end\":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)}),deleteMany:function(e,r){throw new Error(\"deleteMany is not implemented yet\")}}},G=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(r.headers||(r.headers=new Headers),r.method){case\"POST\":case\"PATCH\":r.headers.has(\"Accept\")||r.headers.set(\"Accept\",\"application/ld+json\"),r.headers.has(\"Content-Type\")||r.headers.set(\"Content-Type\",\"application/ld+json\");break;case\"DELETE\":break;case\"GET\":default:r.headers.has(\"Accept\")||r.headers.set(\"Accept\",\"application/ld+json\")}var t=localStorage.getItem(\"token\");return t&&r.headers.set(\"Authorization\",\"Bearer \".concat(t)),y.fetchJson(e,r)};export{L as DateTimeInput,C as FilterHandler,F as GroupedReferenceHandler,P as ImageField,T as ReferenceArrayField,U as ReferenceArrayInput,I as ReferenceField,D as ReferenceInput,q as ReificationArrayInput,T as UriArrayField,U as UriArrayInput,B as dataProvider,G as httpClient};\n"]},"metadata":{},"sourceType":"module"}