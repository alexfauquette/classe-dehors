{"ast":null,"code":"import React from\"react\";import{List,SimpleList,ListActions}from\"@semapps/archipelago-layout\";import PersonFilterSidebar from\"./PersonFilterSidebar\";import{Avatar}from\"@material-ui/core\";import PersonIcon from\"@material-ui/icons/Person\";import MarkdownIntroduction from\"../../markdown/MarkdownIntroduction\";import{ReferenceField,TextField}from\"react-admin\";var displayLocationLabel=function displayLocationLabel(record){if(!record[\"pair:hasLocation\"]){return\"\";}if(!record[\"pair:hasLocation\"][\"pair:hasPostalAddress\"]){return\"\";}if(!record[\"pair:hasLocation\"][\"pair:hasPostalAddress\"][\"pair:label\"]){return\"\";}return record[\"pair:hasLocation\"][\"pair:hasPostalAddress\"][\"pair:label\"];};var PersonList=function PersonList(props){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MarkdownIntroduction,{pageId:\"annuaire-introduction\"}),/*#__PURE__*/React.createElement(List,Object.assign({title:\"\",aside:/*#__PURE__*/React.createElement(PersonFilterSidebar,null),sort:{field:\"pair:label\",order:\"DESC\"},perPage:100,pagination:false,actions:/*#__PURE__*/React.createElement(ListActions,{exporter:false})},props),/*#__PURE__*/React.createElement(SimpleList,{primaryText:function primaryText(record){return record[\"pair:label\"];},secondaryText:displayLocationLabel,tertiaryText:function tertiaryText(record){if(record[\"pair:hasType\"]){return/*#__PURE__*/React.createElement(ReferenceField,{record:record,reference:\"Type\",basePath:\"Type\"// Hack to get access to to Organization data\n,source:\"pair:hasType\",link:false},/*#__PURE__*/React.createElement(TextField,{source:\"pair:label\"}));}return\"\";},leftAvatar:function leftAvatar(){return/*#__PURE__*/React.createElement(Avatar,{width:\"100%\"},/*#__PURE__*/React.createElement(PersonIcon,null));},linkType:\"show\"})));};export default PersonList;","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/src/resources/Person/PersonList.js"],"names":["React","List","SimpleList","ListActions","PersonFilterSidebar","Avatar","PersonIcon","MarkdownIntroduction","ReferenceField","TextField","displayLocationLabel","record","PersonList","props","field","order"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,WAA3B,KAA8C,6BAA9C,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,qCAAjC,CACA,OAASC,cAAT,CAAyBC,SAAzB,KAA0C,aAA1C,CAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,MAAD,CAAY,CACvC,GAAI,CAACA,MAAM,CAAC,kBAAD,CAAX,CAAiC,CAC/B,MAAO,EAAP,CACD,CACD,GAAI,CAACA,MAAM,CAAC,kBAAD,CAAN,CAA2B,uBAA3B,CAAL,CAA0D,CACxD,MAAO,EAAP,CACD,CACD,GAAI,CAACA,MAAM,CAAC,kBAAD,CAAN,CAA2B,uBAA3B,EAAoD,YAApD,CAAL,CAAwE,CACtE,MAAO,EAAP,CACD,CACD,MAAOA,CAAAA,MAAM,CAAC,kBAAD,CAAN,CAA2B,uBAA3B,EAAoD,YAApD,CAAP,CACD,CAXD,CAaA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,qBACjB,qDACE,oBAAC,oBAAD,EAAsB,MAAM,CAAC,uBAA7B,EADF,cAEE,oBAAC,IAAD,gBACE,KAAK,CAAC,EADR,CAEE,KAAK,cAAE,oBAAC,mBAAD,MAFT,CAGE,IAAI,CAAE,CAAEC,KAAK,CAAE,YAAT,CAAuBC,KAAK,CAAE,MAA9B,CAHR,CAIE,OAAO,CAAE,GAJX,CAKE,UAAU,CAAE,KALd,CAME,OAAO,cAAE,oBAAC,WAAD,EAAa,QAAQ,CAAE,KAAvB,EANX,EAOMF,KAPN,eASE,oBAAC,UAAD,EACE,WAAW,CAAE,qBAACF,MAAD,QAAYA,CAAAA,MAAM,CAAC,YAAD,CAAlB,EADf,CAEE,aAAa,CAAED,oBAFjB,CAGE,YAAY,CAAE,sBAACC,MAAD,CAAY,CACxB,GAAIA,MAAM,CAAC,cAAD,CAAV,CAA4B,CAC1B,mBACE,oBAAC,cAAD,EACE,MAAM,CAAEA,MADV,CAEE,SAAS,CAAC,MAFZ,CAGE,QAAQ,CAAC,MAAO;AAHlB,CAIE,MAAM,CAAC,cAJT,CAKE,IAAI,CAAE,KALR,eAOE,oBAAC,SAAD,EAAW,MAAM,CAAC,YAAlB,EAPF,CADF,CAWD,CACD,MAAO,EAAP,CACD,CAlBH,CAmBE,UAAU,CAAE,yCACV,oBAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,eACE,oBAAC,UAAD,MADF,CADU,EAnBd,CAwBE,QAAQ,CAAC,MAxBX,EATF,CAFF,CADiB,EAAnB,CA0CA,cAAeC,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport { List, SimpleList, ListActions } from \"@semapps/archipelago-layout\";\nimport PersonFilterSidebar from \"./PersonFilterSidebar\";\nimport { Avatar } from \"@material-ui/core\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport MarkdownIntroduction from \"../../markdown/MarkdownIntroduction\";\nimport { ReferenceField, TextField } from \"react-admin\";\n\nconst displayLocationLabel = (record) => {\n  if (!record[\"pair:hasLocation\"]) {\n    return \"\";\n  }\n  if (!record[\"pair:hasLocation\"][\"pair:hasPostalAddress\"]) {\n    return \"\";\n  }\n  if (!record[\"pair:hasLocation\"][\"pair:hasPostalAddress\"][\"pair:label\"]) {\n    return \"\";\n  }\n  return record[\"pair:hasLocation\"][\"pair:hasPostalAddress\"][\"pair:label\"];\n};\n\nconst PersonList = (props) => (\n  <>\n    <MarkdownIntroduction pageId=\"annuaire-introduction\" />\n    <List\n      title=\"\"\n      aside={<PersonFilterSidebar />}\n      sort={{ field: \"pair:label\", order: \"DESC\" }}\n      perPage={100}\n      pagination={false}\n      actions={<ListActions exporter={false} />}\n      {...props}\n    >\n      <SimpleList\n        primaryText={(record) => record[\"pair:label\"]}\n        secondaryText={displayLocationLabel}\n        tertiaryText={(record) => {\n          if (record[\"pair:hasType\"]) {\n            return (\n              <ReferenceField\n                record={record}\n                reference=\"Type\"\n                basePath=\"Type\" // Hack to get access to to Organization data\n                source=\"pair:hasType\"\n                link={false}\n              >\n                <TextField source=\"pair:label\" />\n              </ReferenceField>\n            );\n          }\n          return \"\";\n        }}\n        leftAvatar={() => (\n          <Avatar width=\"100%\">\n            <PersonIcon />\n          </Avatar>\n        )}\n        linkType=\"show\"\n      />\n    </List>\n  </>\n);\n\nexport default PersonList;\n"]},"metadata":{},"sourceType":"module"}