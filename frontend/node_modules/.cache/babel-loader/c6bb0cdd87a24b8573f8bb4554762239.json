{"ast":null,"code":"var _jsxFileName = \"/home/alexandre/dev/classe-dehors/frontend/src/resources/Place/PlaceList.js\";\nimport React from \"react\";\nimport { MapList } from \"@semapps/geo-components\";\nimport MarkdownIntroduction from \"../../markdown/MarkdownIntroduction\";\nimport { List, ShowButton, EditButton, useResourceDefinition, ReferenceArrayField, SimpleList } from \"react-admin\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport { Avatar, Typography } from \"@material-ui/core\";\n\nconst PopupContent = ({\n  record,\n  basePath\n}) => {\n  const resourceDefinition = useResourceDefinition({});\n  return /*#__PURE__*/React.createElement(React.Fragment, null, record.label && /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 24\n    }\n  }, record.label), record.description && /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, record.description.length > 150 ? record.description.substring(0, 150) + \"...\" : record.description), /*#__PURE__*/React.createElement(ReferenceArrayField, {\n    reference: \"Person\",\n    source: \"pair:locationOf\",\n    record: { ...record,\n      \"pair:locationOf\": typeof record[\"pair:locationOf\"] === \"string\" ? [record[\"pair:locationOf\"]] : record[\"pair:locationOf\"]\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SimpleList, {\n    primaryText: record => record === null || record === void 0 ? void 0 : record[\"pair:label\"],\n    leftAvatar: () => /*#__PURE__*/React.createElement(Avatar, {\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PersonIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    })),\n    linkType: \"show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  })), resourceDefinition.hasShow && /*#__PURE__*/React.createElement(ShowButton, {\n    basePath: basePath,\n    record: record,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), resourceDefinition.hasEdit && /*#__PURE__*/React.createElement(EditButton, {\n    basePath: basePath,\n    record: record,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }));\n};\n\nconst PlaceList = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MarkdownIntroduction, {\n  pageId: \"place-introduction\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(List, Object.assign({}, props, {\n  perPage: 1000,\n  pagination: false,\n  label: \"Carte\",\n  exporter: false,\n  actions: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(MapList, {\n  latitude: record => {\n    var _record$pairHasPosta;\n\n    return record === null || record === void 0 ? void 0 : (_record$pairHasPosta = record[\"pair:hasPostalAddress\"]) === null || _record$pairHasPosta === void 0 ? void 0 : _record$pairHasPosta[\"pair:latitude\"];\n  },\n  longitude: record => {\n    var _record$pairHasPosta2;\n\n    return record === null || record === void 0 ? void 0 : (_record$pairHasPosta2 = record[\"pair:hasPostalAddress\"]) === null || _record$pairHasPosta2 === void 0 ? void 0 : _record$pairHasPosta2[\"pair:longitude\"];\n  },\n  label: record => record === null || record === void 0 ? void 0 : record[\"pair:label\"],\n  description: record => {\n    var _record$pairHasPosta3;\n\n    return record === null || record === void 0 ? void 0 : (_record$pairHasPosta3 = record[\"pair:hasPostalAddress\"]) === null || _record$pairHasPosta3 === void 0 ? void 0 : _record$pairHasPosta3[\"pair:label\"];\n  },\n  scrollWheelZoom: true,\n  popupContent: PopupContent,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 7\n  }\n})));\n\nexport default PlaceList;","map":{"version":3,"sources":["/home/alexandre/dev/classe-dehors/frontend/src/resources/Place/PlaceList.js"],"names":["React","MapList","MarkdownIntroduction","List","ShowButton","EditButton","useResourceDefinition","ReferenceArrayField","SimpleList","PersonIcon","Avatar","Typography","PopupContent","record","basePath","resourceDefinition","label","description","length","substring","hasShow","hasEdit","PlaceList","props"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { MapList } from \"@semapps/geo-components\";\nimport MarkdownIntroduction from \"../../markdown/MarkdownIntroduction\";\n\nimport {\n  List,\n  ShowButton,\n  EditButton,\n  useResourceDefinition,\n  ReferenceArrayField,\n  SimpleList,\n} from \"react-admin\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport { Avatar, Typography } from \"@material-ui/core\";\n\nconst PopupContent = ({ record, basePath }) => {\n  const resourceDefinition = useResourceDefinition({});\n  return (\n    <>\n      {record.label && <Typography variant=\"h5\">{record.label}</Typography>}\n      {record.description && (\n        <Typography>\n          {record.description.length > 150\n            ? record.description.substring(0, 150) + \"...\"\n            : record.description}\n        </Typography>\n      )}\n      <ReferenceArrayField\n        reference=\"Person\"\n        source=\"pair:locationOf\"\n        record={{\n          ...record,\n          \"pair:locationOf\":\n            typeof record[\"pair:locationOf\"] === \"string\"\n              ? [record[\"pair:locationOf\"]]\n              : record[\"pair:locationOf\"],\n        }}\n      >\n        <SimpleList\n          primaryText={(record) => record?.[\"pair:label\"]}\n          leftAvatar={() => (\n            <Avatar width=\"100%\">\n              <PersonIcon />\n            </Avatar>\n          )}\n          linkType=\"show\"\n        />\n      </ReferenceArrayField>\n      {resourceDefinition.hasShow && (\n        <ShowButton basePath={basePath} record={record} />\n      )}\n      {resourceDefinition.hasEdit && (\n        <EditButton basePath={basePath} record={record} />\n      )}\n    </>\n  );\n};\n\nconst PlaceList = (props) => (\n  <>\n    <MarkdownIntroduction pageId=\"place-introduction\" />\n    <List\n      {...props}\n      perPage={1000}\n      pagination={false}\n      label=\"Carte\"\n      exporter={false}\n      actions={false}\n    >\n      <MapList\n        latitude={(record) =>\n          record?.[\"pair:hasPostalAddress\"]?.[\"pair:latitude\"]\n        }\n        longitude={(record) =>\n          record?.[\"pair:hasPostalAddress\"]?.[\"pair:longitude\"]\n        }\n        label={(record) => record?.[\"pair:label\"]}\n        description={(record) =>\n          record?.[\"pair:hasPostalAddress\"]?.[\"pair:label\"]\n        }\n        scrollWheelZoom\n        popupContent={PopupContent}\n      />\n    </List>\n  </>\n);\n\nexport default PlaceList;\n"]},"metadata":{},"sourceType":"module"}