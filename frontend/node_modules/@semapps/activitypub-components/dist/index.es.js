import e from"react";import{useQueryWithStore as r,LinearProgress as t,ListContextProvider as o}from"react-admin";import{makeStyles as n}from"@material-ui/core";function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){i(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u=n((function(e){return{progress:{marginTop:e.spacing(2)}}})),l=function(n){var c=n.children,l=n.source,p=n.record,s=void 0===p?{}:p;if(1!==e.Children.count(c))throw new Error("<ActivitiesList> only accepts a single child");var d=u(),f=r({type:"getList",resource:"Activity",payload:{id:s[l]}}),b=f.data,g=f.loaded,O=f.loading,m=f.total;if(!g)return e.createElement(t,{className:d.progress});if(0===b.length)return"Aucune activit√© pour le moment.";var y=b.filter((function(e){return"Create"===e.type})).reduce((function(e,r){return a(a({},e),{},i({},r.object.id,r.object))}),{});return e.createElement(o,{value:{basePath:"/Note",currentSort:{field:"id",order:"ASC"},data:y,ids:Object.keys(y),loaded:g,loading:O,page:1,perPage:10,resource:"Note",total:m}},c)};l.defaultProps={addLabel:!0};export{l as ActivitiesList};
